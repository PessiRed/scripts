"use strict";function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _toArray(r){return _arrayWithHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _arrayWithHoles(r){if(Array.isArray(r))return r}function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _regeneratorRuntime(){"use strict";_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,function(){return this});var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach(function(e){define(t,e,function(t){return this._invoke(e,t)})})}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then(function(t){invoke("next",t,i,a)},function(t){invoke("throw",t,i,a)}):e.resolve(h).then(function(t){u.value=t,i(u)},function(t){return invoke("throw",t,i,a)})}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e(function(e,r){invoke(t,n,e,r)})}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:"suspendedYield",p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,function(){return this}),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,function(){return this}),define(g,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t.return||t.return()}finally{if(u)throw o}}}}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}function sleep(){return _sleep.apply(this,arguments)}function _sleep(){_sleep=_asyncToGenerator(_regeneratorRuntime().mark(function _callee37(ms){return _regeneratorRuntime().wrap(function _callee37$(_context37){while(1)switch(_context37.prev=_context37.next){case 0:_context37.next=2;return new Promise(function(resolve){return setTimeout(resolve,ms)});case 2:return _context37.abrupt("return",_context37.sent);case 3:case"end":return _context37.stop()}},_callee37)}));return _sleep.apply(this,arguments)}void _asyncToGenerator(_regeneratorRuntime().mark(function _callee36(){var debug,desktop,mobile,isSafari,$html,$body,$reactRoot,lang,dir,ltr,config,locales,getString,PagePaths,Selectors,Svgs,Images,THEME_BLUE,THEME_COLORS,FULL_WIDTH_BODY_PSEUDO,TITLE_NOTIFICATION_RE,URL_COMMUNITIES_RE,URL_COMMUNITY_RE,URL_COMMUNITY_MEMBERS_RE,URL_DISCOVER_COMMUNITIES_RE,URL_LIST_RE,URL_MEDIA_RE,URL_MEDIAVIEWER_RE,URL_PROFILE_RE,URL_PROFILE_FOLLOWS_RE,URL_TWEET_RE,URL_TWEET_ENGAGEMENT_RE,TWITTER_MEDIA_ASSIST_BUTTON_SELECTOR,quotedTweet,blockMenuItemSeen,changingSortReplies,currentNotificationCount,currentPage,currentPath,filterBlurRule,fontFamilyRule,fontSize,homeNavigationIsBeingUsed,isDesktopMediaModalOpen,isDesktopComposeTweetModalOpen,lastHomeTimelineTitle,modalObservers,observingPageChanges,pageObservers,pinMenuItemSeen,selectedHomeTabIndex,separatedTweetsTimelineTitle,themeColor,tweetInteractionsTab,wasForYouTabSelected,isOnBookmarksPage,isOnCommunitiesPage,isOnCommunityPage,isOnCommunityMembersPage,isOnDiscoverCommunitiesPage,isOnDisplaySettingsPage,isOnExplorePage,isOnFollowListPage,isOnIndividualTweetPage,isOnListPage,isOnHomeTimelinePage,isOnMessagesPage,isOnNotificationsPage,isOnProfilePage,isOnQuoteTweetsPage,isOnSearchPage,isOnSeparatedTweetsTimeline,isOnSettingsPage,shouldHideSidebar,shouldShowSeparatedTweetsTab,addStyle,blueCheck,twitterLogo,homeIcon,dedent,disconnectObserver,disconnectModalObserver,disconnectAllModalObservers,disconnectPageObserver,findAddedNode,getElement,getState,getStateEntities,getThemeColorFromState,getTweetInfo,getUserInfo,isObserving,log,warn,error,not,observeElement,pageIsNot,pathIsNot,s,setTweetButtonText,storeConfigChanges,checkReactNativeStylesheet,observeBodyBackgroundColor,observeDesktopComposeTweetModal,_observeDesktopComposeTweetModal,observeDesktopModalTimeline,_observeDesktopModalTimeline,observeFavicon,observePopups,observeTitle,_observeTitle,observeSidebar,_observeSidebar,observeSideNavTweetButton,observeSearchForm,_observeSearchForm,observeTimeline,_observeTimeline,observeIndividualTweetTimeline,_observeIndividualTweetTimeline,addAddMutedWordMenuItem,_addAddMutedWordMenuItem,addCaretMenuListenerForQuoteTweet,addMuteQuotesMenuItems,_addMuteQuotesMenuItems,addMutedWord,_addMutedWord,addToggleListRetweetsMenuItem,_addToggleListRetweetsMenuItem,checkforDisabledHomeTimeline,configureCss,configureFont,configureHideMetricsCss,configureDynamicCss,configureSeparatedTweetsTimelineTitle,configureThemeCss,setDefaultSortReplies,_setDefaultSortReplies,getQuotedTweetDetails,getTweetType,getVerifiedProps,handlePopup,isBlueVerified,getVerifiedType,isReplyToPreviousTweet,onPopup,onTimelineChange,onIndividualTweetTimelineChange,onTitleChange,processBlueChecks,processTwitterLogos,processCurrentPage,removeMobileTimelineHeaderElements,restoreLinkHeadline,restoreTweetInteractionsLinks,setTitle,shouldHideIndividualTweetTimelineItem,shouldHideListTimelineItem,shouldHideHomeTimelineItem,shouldHideProfileTimelineItem,shouldHideOtherTimelineItem,shouldHideSharedTweet,tweakBookmarksPage,_tweakBookmarksPage,tweakExplorePage,_tweakExplorePage,tweakCommunitiesPage,tweakCommunityPage,tweakCommunityMembersPage,tweakDisplaySettingsPage,tweakFocusedTweet,_tweakFocusedTweet,tweakFollowListPage,_tweakFollowListPage,tweakIndividualTweetPage,_tweakIndividualTweetPage,tweakListPage,tweakHomeIcon,_tweakHomeIcon,tweakTweetBox,_tweakTweetBox,tweakTweetButton,_tweakTweetButton,tweakHomeTimelinePage,tweakMobileComposeTweetPage,tweakMobileMediaViewerPage,tweakTimelineTabs,_tweakTimelineTabs,tweakNotificationsPage,tweakProfilePage,_tweakProfilePage,tweakRetweetDropdown,_tweakRetweetDropdown,tweakSearchPage,tweakTweetEngagementPage,main,_main,configChanged;return _regeneratorRuntime().wrap(function _callee36$(_context36){while(1)switch(_context36.prev=_context36.next){case 0:configChanged=function _configChanged(changes){log("config changed",changes);if("version"in changes){fontSize=desktop?$html.style.fontSize:null}configureCss();configureFont();configureDynamicCss();configureThemeCss();observeFavicon();observePopups();observeSideNavTweetButton();var navigationTriggered=configureSeparatedTweetsTimelineTitle()||checkforDisabledHomeTimeline();if(!navigationTriggered){processCurrentPage()}};_main=function _main3(){_main=_asyncToGenerator(_regeneratorRuntime().mark(function _callee35(){var $settings,settingsChangeObserver,$loadingStyle,$appWrapper,lastFlexDirection;return _regeneratorRuntime().wrap(function _callee35$(_context35){while(1)switch(_context35.prev=_context35.next){case 0:$settings=document.querySelector("script#tnt_settings");if($settings){try{Object.assign(config,JSON.parse($settings.innerText))}catch(e){error("error parsing initial settings",e)}settingsChangeObserver=new MutationObserver(function(){var configChanges;try{configChanges=JSON.parse($settings.innerText);log("configChanges",configChanges)}catch(e){error("error parsing incoming settings change",e);return}if("debug"in configChanges){log("disabling debug mode");debug=configChanges.debug;log("enabled debug mode");configureThemeCss();return}Object.assign(config,configChanges);configChanged(configChanges)});settingsChangeObserver.observe($settings,{childList:true})}if(config.debug){debug=true}observeTitle();if(config.replaceLogo){getElement("html",{name:"html element"}).then(function($html){$loadingStyle=document.createElement("style");$loadingStyle.dataset.insertedBy="control-panel-for-twitter";$loadingStyle.dataset.role="loading-logo";$loadingStyle.textContent=dedent("\n          ".concat(Selectors.X_LOGO_PATH," {\n            fill: ").concat(isSafari?"transparent":THEME_BLUE,";\n            d: path(\"").concat(Svgs.TWITTER_LOGO_PATH,"\");\n          }\n          .tnt_logo {\n            fill: ").concat(THEME_BLUE,";\n          }\n        "));$html.appendChild($loadingStyle)});if(isSafari){getElement(Selectors.X_LOGO_PATH,{name:"pre-loading indicator logo",timeout:1000}).then(function($logoPath){if($logoPath){twitterLogo($logoPath)}})}observeFavicon()}_context35.next=7;return getElement("#layers + div",{name:"app wrapper"});case 7:$appWrapper=_context35.sent;$html=document.querySelector("html");$body=document.body;$reactRoot=document.querySelector("#react-root");lang=$html.lang;dir=$html.dir;ltr=dir=="ltr";observeElement($appWrapper,function(){var flexDirection="column";var version="mobile";if(version!=config.version){log("setting version to",version);config.version=version;storeConfigChanges({version:version})}if(lastFlexDirection==null){log("initial config",{config:config,lang:lang,version:version});checkReactNativeStylesheet();observeBodyBackgroundColor();var initialThemeColor=getThemeColorFromState();if(initialThemeColor){themeColor=initialThemeColor}configureSeparatedTweetsTimelineTitle();configureCss();configureDynamicCss();configureThemeCss();observePopups();observeSideNavTweetButton();observingPageChanges=true;if($loadingStyle){setTimeout(function(){return $loadingStyle.remove()},1000)}}else if(flexDirection!=lastFlexDirection){configChanged({version:version})}$body.classList.toggle("Mobile",mobile);$body.classList.toggle("Desktop",desktop);lastFlexDirection=flexDirection},"app wrapper class attribute for version changes (mobile \u2194 desktop)",{attributes:true,attributeFilter:["class"]});case 15:case"end":return _context35.stop()}},_callee35)}));return _main.apply(this,arguments)};main=function _main2(){return _main.apply(this,arguments)};tweakTweetEngagementPage=function _tweakTweetEngagement(){if(config.replaceLogo){var $headingText=document.querySelector("".concat(mobile?Selectors.MOBILE_TIMELINE_HEADER:Selectors.PRIMARY_COLUMN," h2 span"));if($headingText){if($headingText.textContent!=getString("TWEET_INTERACTIONS")){$headingText.textContent=getString("TWEET_INTERACTIONS")}}else{warn("could not find Post engagement heading")}}var $tabs=document.querySelector("".concat(mobile?Selectors.MOBILE_TIMELINE_HEADER:Selectors.PRIMARY_COLUMN," nav"));if($tabs==null){warn("could not find Post engagement tabs");return}if(tweetInteractionsTab){var _$tabs$querySelector;log("switching to tab",tweetInteractionsTab);(_$tabs$querySelector=$tabs.querySelector("div[role=\"tablist\"] > div:nth-child(".concat(tweetInteractionsTab,") > a")))===null||_$tabs$querySelector===void 0||_$tabs$querySelector.click();tweetInteractionsTab=null}if(config.replaceLogo){var $quoteTweetsTabText=$tabs.querySelector("div[role=\"tablist\"] > div:nth-child(1) div[dir] > span");if($quoteTweetsTabText)$quoteTweetsTabText.textContent=getString("QUOTE_TWEETS");var $retweetsTabText=$tabs.querySelector("div[role=\"tablist\"] > div:nth-child(2) div[dir] > span");if($retweetsTabText)$retweetsTabText.textContent=getString("RETWEETS")}if(config.twitterBlueChecks!="ignore"){observeTimeline(currentPage,{classifyTweets:false})}};tweakSearchPage=function _tweakSearchPage(){var $searchTabs=document.querySelector("".concat(mobile?Selectors.MOBILE_TIMELINE_HEADER:Selectors.PRIMARY_COLUMN," nav"));if($searchTabs!=null){if(config.defaultToLatestSearch){var isTopTabSelected=Boolean($searchTabs.querySelector("div[role=\"tablist\"] > div:nth-child(1) > a[aria-selected=\"true\"]"));if(isTopTabSelected){var _$searchTabs$querySel;log("switching to Latest tab");(_$searchTabs$querySel=$searchTabs.querySelector("div[role=\"tablist\"] > div:nth-child(2) > a"))===null||_$searchTabs$querySel===void 0||_$searchTabs$querySel.click()}}}else{warn("could not find Search tabs")}observeTimeline(currentPage,{hideHeadings:false,isTabbed:true,tabbedTimelineContainerSelector:"div[data-testid=\"primaryColumn\"] > div > div:last-child"})};_tweakRetweetDropdown=function _tweakRetweetDropdown3(){_tweakRetweetDropdown=_asyncToGenerator(_regeneratorRuntime().mark(function _callee34($dropdownItem,dropdownItemSelector,localeKey){var _$dropdownItem$nextEl;var $text,$quoteTweetText;return _regeneratorRuntime().wrap(function _callee34$(_context34){while(1)switch(_context34.prev=_context34.next){case 0:log("tweaking Retweet/Quote Tweet dropdown");$text=$dropdownItem.querySelector("div[dir] > span");if($text)$text.textContent=getString(localeKey);$quoteTweetText=(_$dropdownItem$nextEl=$dropdownItem.nextElementSibling)===null||_$dropdownItem$nextEl===void 0?void 0:_$dropdownItem$nextEl.querySelector("div[dir] > span");if($quoteTweetText)$quoteTweetText.textContent=getString("QUOTE_TWEET");case 5:case"end":return _context34.stop()}},_callee34)}));return _tweakRetweetDropdown.apply(this,arguments)};tweakRetweetDropdown=function _tweakRetweetDropdown2(_x14,_x15,_x16){return _tweakRetweetDropdown.apply(this,arguments)};_tweakProfilePage=function _tweakProfilePage3(){_tweakProfilePage=_asyncToGenerator(_regeneratorRuntime().mark(function _callee33(){var _currentPath$match2;var $initialContent,tab,$editProfileButton,$headerVerifiedIcon,$profileTabs;return _regeneratorRuntime().wrap(function _callee33$(_context33){while(1)switch(_context33.prev=_context33.next){case 0:_context33.next=2;return getElement(desktop?Selectors.PRIMARY_COLUMN:Selectors.MOBILE_TIMELINE_HEADER,{name:"initial profile content",stopIf:pageIsNot(currentPage)});case 2:$initialContent=_context33.sent;if($initialContent){_context33.next=5;break}return _context33.abrupt("return");case 5:if(config.twitterBlueChecks!="ignore"){processBlueChecks($initialContent)}tab=((_currentPath$match2=currentPath.match(URL_PROFILE_RE))===null||_currentPath$match2===void 0?void 0:_currentPath$match2[2])||"tweets";log("on ".concat(tab," tab"));observeTimeline(currentPage,{isUserTimeline:tab=="affiliates"});$editProfileButton=document.querySelector("a[href=\"/settings/profile\"]");$headerVerifiedIcon=document.querySelector("".concat(mobile?Selectors.MOBILE_TIMELINE_HEADER:Selectors.TIMELINE_HEADING," [data-testid=\"icon-verified\"]"));$body.classList.toggle("OwnProfile",Boolean($editProfileButton));$body.classList.toggle("PremiumProfile",Boolean($headerVerifiedIcon));if(!(config.replaceLogo||config.hideSubscriptions)){_context33.next=20;break}_context33.next=16;return getElement("".concat(Selectors.PRIMARY_COLUMN," nav"),{name:"profile tabs",stopIf:pageIsNot(currentPage)});case 16:$profileTabs=_context33.sent;if($profileTabs){_context33.next=19;break}return _context33.abrupt("return");case 19:pageObservers.push(observeElement($profileTabs.parentElement,function(){var _ref12=_asyncToGenerator(_regeneratorRuntime().mark(function _callee32(mutations){var $newProfileTabs,$tweetsTabText,$subscriptionsTabLink;return _regeneratorRuntime().wrap(function _callee32$(_context32){while(1)switch(_context32.prev=_context32.next){case 0:if(!(mutations.length>0)){_context32.next=5;break}$newProfileTabs=findAddedNode(mutations,function($el){return $el instanceof HTMLElement&&$el.tagName=="NAV"});if(!($newProfileTabs==null)){_context32.next=4;break}return _context32.abrupt("return");case 4:$profileTabs=$newProfileTabs;case 5:if(!config.replaceLogo){_context32.next=10;break}_context32.next=8;return getElement("[data-testid=\"ScrollSnap-List\"] > [role=\"presentation\"]:first-child div[dir] > span:first-child",{context:$profileTabs,name:"Tweets tab text",stopIf:pageIsNot(currentPage)});case 8:$tweetsTabText=_context32.sent;if($tweetsTabText&&$tweetsTabText.textContent!=getString("TWEETS")){$tweetsTabText.textContent=getString("TWEETS")}case 10:if(!config.hideSubscriptions){_context32.next=15;break}_context32.next=13;return getElement("a[href$=\"/superfollows\"]",{context:$profileTabs,name:"Subscriptions tab link",stopIf:pageIsNot(currentPage),timeout:1000});case 13:$subscriptionsTabLink=_context32.sent;if($subscriptionsTabLink){$subscriptionsTabLink.parentElement.classList.add("SubsTab")}case 15:case"end":return _context32.stop()}},_callee32)}));return function(_x19){return _ref12.apply(this,arguments)}}(),"profile tabs",{childList:true}));case 20:case"end":return _context33.stop()}},_callee33)}));return _tweakProfilePage.apply(this,arguments)};tweakProfilePage=function _tweakProfilePage2(){return _tweakProfilePage.apply(this,arguments)};tweakNotificationsPage=function _tweakNotificationsPa(){var $navigationTabs=document.querySelector("".concat(mobile?Selectors.MOBILE_TIMELINE_HEADER:Selectors.PRIMARY_COLUMN," nav"));if($navigationTabs==null){warn("could not find Notifications tabs");return}if(config.hideVerifiedNotificationsTab){var isVerifiedTabSelected=Boolean($navigationTabs.querySelector("div[role=\"tablist\"] > div:nth-child(2) > a[aria-selected=\"true\"]"));if(isVerifiedTabSelected){var _$navigationTabs$quer;log("switching to All tab");(_$navigationTabs$quer=$navigationTabs.querySelector("div[role=\"tablist\"] > div:nth-child(1) > a"))===null||_$navigationTabs$quer===void 0||_$navigationTabs$quer.click()}}if(config.twitterBlueChecks!="ignore"||config.restoreLinkHeadlines){observeTimeline(currentPage,{isTabbed:true,tabbedTimelineContainerSelector:"div[data-testid=\"primaryColumn\"] > div > div:last-child"})}};_tweakTimelineTabs=function _tweakTimelineTabs3(){_tweakTimelineTabs=_asyncToGenerator(_regeneratorRuntime().mark(function _callee31($timelineTabs){var $followingTabLink,isForYouTabSelected,$newTab,$link,$homeNavLink;return _regeneratorRuntime().wrap(function _callee31$(_context31){while(1)switch(_context31.prev=_context31.next){case 0:$followingTabLink=$timelineTabs.querySelector("div[role=\"tablist\"] > div:nth-child(2) > a");if(config.alwaysUseLatestTweets&&!document.title.startsWith(separatedTweetsTimelineTitle)){isForYouTabSelected=Boolean($timelineTabs.querySelector("div[role=\"tablist\"] > div:first-child > a[aria-selected=\"true\"]"));if(isForYouTabSelected&&(!wasForYouTabSelected||config.hideForYouTimeline)){log("switching to Following timeline");$followingTabLink.click();wasForYouTabSelected=false}else{wasForYouTabSelected=isForYouTabSelected}}if(!shouldShowSeparatedTweetsTab()){_context31.next=24;break}$newTab=$timelineTabs.querySelector("#tnt_separated_tweets_tab");if(!$newTab){_context31.next=9;break}log("separated tweets timeline tab already present");$newTab.querySelector("span").textContent=separatedTweetsTimelineTitle;_context31.next=22;break;case 9:log("inserting separated tweets tab");$newTab=$followingTabLink.parentElement.cloneNode(true);$newTab.id="tnt_separated_tweets_tab";$newTab.querySelector("span").textContent=separatedTweetsTimelineTitle;$link=$newTab.querySelector("a");$link.removeAttribute("aria-selected");$link.addEventListener("click",function(e){e.preventDefault();e.stopPropagation();if(!document.title.startsWith(separatedTweetsTimelineTitle)){var isFollowingTabSelected=Boolean($timelineTabs.querySelector("div[role=\"tablist\"] > div:nth-child(2) > a[aria-selected=\"true\"]"));if(!isFollowingTabSelected){log("switching to the Following tab for separated tweets");$followingTabLink.click()}setTitle(separatedTweetsTimelineTitle)}window.scrollTo({top:0})});$followingTabLink.parentElement.insertAdjacentElement("afterend",$newTab);$followingTabLink.parentElement.parentElement.addEventListener("click",function(){if(location.pathname=="/home"&&!document.title.startsWith(getString("HOME"))){log("setting title to Home");homeNavigationIsBeingUsed=true;setTitle(getString("HOME"))}});_context31.next=20;return getElement(Selectors.NAV_HOME_LINK,{name:"home nav link",stopIf:pathIsNot(currentPath)});case 20:$homeNavLink=_context31.sent;if($homeNavLink&&!$homeNavLink.dataset.tweakNewTwitterListener){$homeNavLink.addEventListener("click",function(){homeNavigationIsBeingUsed=true;if(location.pathname=="/home"&&!document.title.startsWith(getString("HOME"))){setTitle(getString("HOME"))}});$homeNavLink.dataset.tweakNewTwitterListener="true"}case 22:_context31.next=25;break;case 24:removeMobileTimelineHeaderElements();case 25:case"end":return _context31.stop()}},_callee31)}));return _tweakTimelineTabs.apply(this,arguments)};tweakTimelineTabs=function _tweakTimelineTabs2(_x13){return _tweakTimelineTabs.apply(this,arguments)};tweakMobileMediaViewerPage=function _tweakMobileMediaView(){if(config.twitterBlueChecks=="ignore")return;var $timeline=document.querySelector("[data-testid=\"vss-scroll-view\"] > div");if(!$timeline){warn("media viewer timeline not found");return}observeElement($timeline,function(mutations){var _iterator10=_createForOfIteratorHelper(mutations),_step10;try{for(_iterator10.s();!(_step10=_iterator10.n()).done;){var mutation=_step10.value;if(!mutation.addedNodes)continue;var _iterator11=_createForOfIteratorHelper(mutation.addedNodes),_step11;try{for(_iterator11.s();!(_step11=_iterator11.n()).done;){var _$addedNode$querySele;var $addedNode=_step11.value;if((_$addedNode$querySele=$addedNode.querySelector)!==null&&_$addedNode$querySele!==void 0&&_$addedNode$querySele.call($addedNode,"div[data-testid^=\"immersive-tweet-ui-content-container\"]")){processBlueChecks($addedNode)}}}catch(err){_iterator11.e(err)}finally{_iterator11.f()}}}catch(err){_iterator10.e(err)}finally{_iterator10.f()}},"media viewer timeline",{childList:true,subtree:true})};tweakMobileComposeTweetPage=function _tweakMobileComposeTw(){tweakTweetBox()};tweakHomeTimelinePage=function _tweakHomeTimelinePag(){var $timelineTabs=document.querySelector("".concat(mobile?Selectors.MOBILE_TIMELINE_HEADER:Selectors.PRIMARY_COLUMN," nav"));$body.classList.toggle("SeparatedTweets",isOnSeparatedTweetsTimeline());if($timelineTabs==null){warn("could not find timeline tabs");return}tweakTimelineTabs($timelineTabs);if(mobile&&isSafari&&config.replaceLogo){processTwitterLogos(document.querySelector(Selectors.MOBILE_TIMELINE_HEADER))}function updateSelectedHomeTabIndex(){var $selectedHomeTabLink=$timelineTabs.querySelector("div[role=\"tablist\"] a[aria-selected=\"true\"]");if($selectedHomeTabLink){selectedHomeTabIndex=Array.from($selectedHomeTabLink.parentElement.parentElement.children).indexOf($selectedHomeTabLink.parentElement);log({selectedHomeTabIndex:selectedHomeTabIndex})}else{warn("could not find selected Home tab link");selectedHomeTabIndex=-1}}updateSelectedHomeTabIndex();pageObservers.push(observeElement($timelineTabs.parentElement,function(mutations){var timelineTabsReplaced=mutations.some(function(mutation){return Array.from(mutation.removedNodes).includes($timelineTabs)});if(timelineTabsReplaced){log("timeline tabs replaced");$timelineTabs=document.querySelector("".concat(mobile?Selectors.MOBILE_TIMELINE_HEADER:Selectors.PRIMARY_COLUMN," nav"));tweakTimelineTabs($timelineTabs)}},"timeline tabs nav container"));observeTimeline(currentPage,{isTabbed:true,onTabChanged:function onTabChanged(){updateSelectedHomeTabIndex();wasForYouTabSelected=selectedHomeTabIndex==0},tabbedTimelineContainerSelector:"div[data-testid=\"primaryColumn\"] > div > div:last-child"})};_tweakTweetButton=function _tweakTweetButton3(){_tweakTweetButton=_asyncToGenerator(_regeneratorRuntime().mark(function _callee30(){var $tweetButton,$text;return _regeneratorRuntime().wrap(function _callee30$(_context30){while(1)switch(_context30.prev=_context30.next){case 0:_context30.next=2;return getElement("".concat(desktop?"div[data-testid=\"primaryColumn\"]":"main"," button[data-testid^=\"tweetButton\"]"),{name:"tweet button",stopIf:pageIsNot(currentPage)});case 2:$tweetButton=_context30.sent;if($tweetButton){$text=$tweetButton.querySelector("span > span");if($text){setTweetButtonText($text)}else{warn("could not find tweet button text")}}case 4:case"end":return _context30.stop()}},_callee30)}));return _tweakTweetButton.apply(this,arguments)};tweakTweetButton=function _tweakTweetButton2(){return _tweakTweetButton.apply(this,arguments)};_tweakTweetBox=function _tweakTweetBox3(){_tweakTweetBox=_asyncToGenerator(_regeneratorRuntime().mark(function _callee29(){var $tweetTextarea,$typeaheadDropdown;return _regeneratorRuntime().wrap(function _callee29$(_context29){while(1)switch(_context29.prev=_context29.next){case 0:if(!(config.twitterBlueChecks!="ignore")){_context29.next=7;break}_context29.next=3;return getElement("".concat(desktop?"div[data-testid=\"primaryColumn\"]":"main"," [data-testid^=\"tweetTextarea\"]"),{name:"tweet textarea",stopIf:pageIsNot(currentPage)});case 3:$tweetTextarea=_context29.sent;if($tweetTextarea){_context29.next=6;break}return _context29.abrupt("return");case 6:pageObservers.push(observeElement($tweetTextarea.parentElement.parentElement.parentElement.parentElement,function(mutations){var _iterator14=_createForOfIteratorHelper(mutations),_step14;try{for(_iterator14.s();!(_step14=_iterator14.n()).done;){var mutation=_step14.value;if($typeaheadDropdown&&mutations.some(function(mutation){return Array.from(mutation.removedNodes).includes($typeaheadDropdown)})){disconnectPageObserver("tweet textarea typeahead dropdown");$typeaheadDropdown=null}var _iterator15=_createForOfIteratorHelper(mutation.addedNodes),_step15;try{for(_iterator15.s();!(_step15=_iterator15.n()).done;){var _$addedNode$getAttrib;var $addedNode=_step15.value;if($addedNode instanceof HTMLElement&&(_$addedNode$getAttrib=$addedNode.getAttribute("id"))!==null&&_$addedNode$getAttrib!==void 0&&_$addedNode$getAttrib.startsWith("typeaheadDropdown")){$typeaheadDropdown=$addedNode;pageObservers.push(observeElement($typeaheadDropdown,function(){processBlueChecks($typeaheadDropdown)},"tweet textarea typeahead dropdown"))}}}catch(err){_iterator15.e(err)}finally{_iterator15.f()}}}catch(err){_iterator14.e(err)}finally{_iterator14.f()}},"tweet textarea typeahead dropdown container"));case 7:if(config.replaceLogo){tweakTweetButton()}case 8:case"end":return _context29.stop()}},_callee29)}));return _tweakTweetBox.apply(this,arguments)};tweakTweetBox=function _tweakTweetBox2(){return _tweakTweetBox.apply(this,arguments)};_tweakHomeIcon=function _tweakHomeIcon3(){_tweakHomeIcon=_asyncToGenerator(_regeneratorRuntime().mark(function _callee28(){var $homeIconPath;return _regeneratorRuntime().wrap(function _callee28$(_context28){while(1)switch(_context28.prev=_context28.next){case 0:_context28.next=2;return getElement("".concat(Selectors.NAV_HOME_LINK," svg path"),{name:"Home icon",stopIf:pageIsNot(currentPage)});case 2:$homeIconPath=_context28.sent;if($homeIconPath){homeIcon($homeIconPath)}case 4:case"end":return _context28.stop()}},_callee28)}));return _tweakHomeIcon.apply(this,arguments)};tweakHomeIcon=function _tweakHomeIcon2(){return _tweakHomeIcon.apply(this,arguments)};tweakListPage=function _tweakListPage(){observeTimeline(currentPage,{hideHeadings:false})};_tweakIndividualTweetPage=function _tweakIndividualTweet2(){_tweakIndividualTweetPage=_asyncToGenerator(_regeneratorRuntime().mark(function _callee27(){return _regeneratorRuntime().wrap(function _callee27$(_context27){while(1)switch(_context27.prev=_context27.next){case 0:observeIndividualTweetTimeline(currentPage);if(config.replaceLogo){_asyncToGenerator(_regeneratorRuntime().mark(function _callee26(){var $headingText;return _regeneratorRuntime().wrap(function _callee26$(_context26){while(1)switch(_context26.prev=_context26.next){case 0:_context26.next=2;return getElement("".concat(mobile?Selectors.MOBILE_TIMELINE_HEADER:Selectors.PRIMARY_COLUMN," h2 span"),{name:"tweet thread heading",stopIf:pageIsNot(currentPage)});case 2:$headingText=_context26.sent;if($headingText&&$headingText.textContent!=getString("TWEET")){$headingText.textContent=getString("TWEET")}case 4:case"end":return _context26.stop()}},_callee26)}))()}setDefaultSortReplies();case 3:case"end":return _context27.stop()}},_callee27)}));return _tweakIndividualTweetPage.apply(this,arguments)};tweakIndividualTweetPage=function _tweakIndividualTweet(){return _tweakIndividualTweetPage.apply(this,arguments)};_tweakFollowListPage=function _tweakFollowListPage3(){_tweakFollowListPage=_asyncToGenerator(_regeneratorRuntime().mark(function _callee25(){var $tabs,$subscriptionsTabLink,isVerifiedTabSelected,_$tabs$querySelector2;return _regeneratorRuntime().wrap(function _callee25$(_context25){while(1)switch(_context25.prev=_context25.next){case 0:_context25.next=2;return getElement("".concat(mobile?Selectors.MOBILE_TIMELINE_HEADER:Selectors.PRIMARY_COLUMN," nav"),{name:"Following tabs",stopIf:pageIsNot(currentPage)});case 2:$tabs=_context25.sent;if($tabs){_context25.next=5;break}return _context25.abrupt("return");case 5:$subscriptionsTabLink=$tabs.querySelector("div[role=\"tablist\"] a[href$=\"/subscriptions\"]");if($subscriptionsTabLink){$body.classList.add("Subscriptions")}if(config.hideVerifiedNotificationsTab){isVerifiedTabSelected=Boolean($tabs.querySelector("div[role=\"tablist\"] > div:nth-child(1) > a[aria-selected=\"true\"]"));if(isVerifiedTabSelected){log("switching to Following tab");(_$tabs$querySelector2=$tabs.querySelector("div[role=\"tablist\"] > div:nth-last-child(".concat($subscriptionsTabLink?3:2,") > a")))===null||_$tabs$querySelector2===void 0||_$tabs$querySelector2.click()}}if(config.twitterBlueChecks!="ignore"){observeTimeline(currentPage,{classifyTweets:false})}case 9:case"end":return _context25.stop()}},_callee25)}));return _tweakFollowListPage.apply(this,arguments)};tweakFollowListPage=function _tweakFollowListPage2(){return _tweakFollowListPage.apply(this,arguments)};_tweakFocusedTweet=function _tweakFocusedTweet3(){_tweakFocusedTweet=_asyncToGenerator(_regeneratorRuntime().mark(function _callee24($focusedTweet,options){var observers;return _regeneratorRuntime().wrap(function _callee24$(_context24){while(1)switch(_context24.prev=_context24.next){case 0:observers=options.observers;if($focusedTweet){restoreTweetInteractionsLinks($focusedTweet)}else{disconnectObserver("tweet editor",observers)}case 2:case"end":return _context24.stop()}},_callee24)}));return _tweakFocusedTweet.apply(this,arguments)};tweakFocusedTweet=function _tweakFocusedTweet2(_x11,_x12){return _tweakFocusedTweet.apply(this,arguments)};tweakDisplaySettingsPage=function _tweakDisplaySettings(){_asyncToGenerator(_regeneratorRuntime().mark(function _callee6(){var $colorRerenderBoundary;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:_context6.next=2;return getElement("#react-root > div > div");case 2:$colorRerenderBoundary=_context6.sent;pageObservers.push(observeElement($colorRerenderBoundary,function(){var newThemeColor=getThemeColorFromState();if(newThemeColor==themeColor)return;log("Color setting changed");themeColor=newThemeColor;configureThemeCss();observePopups();observeSideNavTweetButton()},"Color change re-render boundary"));case 4:case"end":return _context6.stop()}},_callee6)}))()};tweakCommunityMembersPage=function _tweakCommunityMember(){if(config.twitterBlueChecks!="ignore"){observeTimeline(currentPage,{classifyTweets:false,isTabbed:true,timelineSelector:"div[data-testid=\"primaryColumn\"] > div > div:last-child"})}};tweakCommunityPage=function _tweakCommunityPage(){if(config.twitterBlueChecks!="ignore"){observeTimeline(currentPage,{classifyTweets:false,isTabbed:true,tabbedTimelineContainerSelector:"".concat(Selectors.PRIMARY_COLUMN," > div > div:last-child"),onTimelineAppeared:function onTimelineAppeared(){if(/\/about\/?$/.test(location.pathname)){processBlueChecks(document.querySelector(Selectors.PRIMARY_COLUMN))}}})}};tweakCommunitiesPage=function _tweakCommunitiesPage(){observeTimeline(currentPage)};_tweakExplorePage=function _tweakExplorePage3(){_tweakExplorePage=_asyncToGenerator(_regeneratorRuntime().mark(function _callee23(){var $searchInput,$backButton;return _regeneratorRuntime().wrap(function _callee23$(_context23){while(1)switch(_context23.prev=_context23.next){case 0:if(config.hideExplorePageContents){_context23.next=2;break}return _context23.abrupt("return");case 2:_context23.next=4;return getElement("input[data-testid=\"SearchBox_Search_Input\"]",{name:"explore page search input",stopIf:function stopIf(){return!isOnExplorePage()}});case 4:$searchInput=_context23.sent;if($searchInput){_context23.next=7;break}return _context23.abrupt("return");case 7:log("focusing search input");$searchInput.focus();_context23.next=11;return getElement("div[data-testid=\"app-bar-back\"]",{name:"back button",stopIf:function stopIf(){return!isOnExplorePage()}});case 11:$backButton=_context23.sent;if($backButton){_context23.next=14;break}return _context23.abrupt("return");case 14:pageObservers.push(observeElement($backButton.parentElement,function(mutations){mutations.forEach(function(mutation){mutation.addedNodes.forEach(function($el){if($el.querySelector("[data-testid=\"DashButton_ProfileIcon_Link\"]")){log("slide-out menu button appeared, going back to skip Explore page");history.go(-2)}})})},"back button parent"));case 15:case"end":return _context23.stop()}},_callee23)}));return _tweakExplorePage.apply(this,arguments)};tweakExplorePage=function _tweakExplorePage2(){return _tweakExplorePage.apply(this,arguments)};_tweakBookmarksPage=function _tweakBookmarksPage3(){_tweakBookmarksPage=_asyncToGenerator(_regeneratorRuntime().mark(function _callee22(){return _regeneratorRuntime().wrap(function _callee22$(_context22){while(1)switch(_context22.prev=_context22.next){case 0:if(config.twitterBlueChecks!="ignore"||config.restoreLinkHeadlines){observeTimeline(currentPage)}case 1:case"end":return _context22.stop()}},_callee22)}));return _tweakBookmarksPage.apply(this,arguments)};tweakBookmarksPage=function _tweakBookmarksPage2(){return _tweakBookmarksPage.apply(this,arguments)};shouldHideSharedTweet=function _shouldHideSharedTwee(config,page){switch(config){case"hide":return true;case"ignore":return page==separatedTweetsTimelineTitle;case"separate":return page!=separatedTweetsTimelineTitle}};shouldHideOtherTimelineItem=function _shouldHideOtherTimel(type){switch(type){case"QUOTE_TWEET":case"RETWEET":case"RETWEETED_QUOTE_TWEET":case"TWEET":case"UNAVAILABLE":case"UNAVAILABLE_QUOTE_TWEET":case"UNAVAILABLE_RETWEET":return false;default:return true}};shouldHideProfileTimelineItem=function _shouldHideProfileTim(type){switch(type){case"PINNED_TWEET":case"QUOTE_TWEET":case"TWEET":return false;case"RETWEET":case"RETWEETED_QUOTE_TWEET":return config.hideProfileRetweets;case"UNAVAILABLE_QUOTE_TWEET":return config.hideUnavailableQuoteTweets;default:return true}};shouldHideHomeTimelineItem=function _shouldHideHomeTimeli(type,page){switch(type){case"QUOTE_TWEET":return shouldHideSharedTweet(config.quoteTweets,page);case"RETWEET":return selectedHomeTabIndex>=2?config.listRetweets=="hide":shouldHideSharedTweet(config.retweets,page);case"RETWEETED_QUOTE_TWEET":return selectedHomeTabIndex>=2?config.listRetweets=="hide":shouldHideSharedTweet(config.retweets,page)||shouldHideSharedTweet(config.quoteTweets,page);case"TWEET":return page==separatedTweetsTimelineTitle;case"UNAVAILABLE_QUOTE_TWEET":return config.hideUnavailableQuoteTweets||shouldHideSharedTweet(config.quoteTweets,page);case"UNAVAILABLE_RETWEET":return config.hideUnavailableQuoteTweets||selectedHomeTabIndex>=2?config.listRetweets=="hide":shouldHideSharedTweet(config.retweets,page);default:return true}};shouldHideListTimelineItem=function _shouldHideListTimeli(type){switch(type){case"RETWEET":case"RETWEETED_QUOTE_TWEET":return config.listRetweets=="hide";case"UNAVAILABLE_QUOTE_TWEET":return config.hideUnavailableQuoteTweets;case"UNAVAILABLE_RETWEET":return config.hideUnavailableQuoteTweets||config.listRetweets=="hide";default:return false}};shouldHideIndividualTweetTimelineItem=function _shouldHideIndividual(type){switch(type){case"QUOTE_TWEET":case"RETWEET":case"RETWEETED_QUOTE_TWEET":case"TWEET":return false;case"UNAVAILABLE_QUOTE_TWEET":case"UNAVAILABLE_RETWEET":return config.hideUnavailableQuoteTweets;default:return true}};setTitle=function _setTitle(page){var name=config.replaceLogo?getString("TWITTER"):"X";document.title=ltr?"".concat(currentNotificationCount).concat(page," / ").concat(name):"".concat(currentNotificationCount).concat(name," \\ ").concat(page)};restoreTweetInteractionsLinks=function _restoreTweetInteract($focusedTweet){var _location$pathname$ma,_fontFamilyRule3;if(!config.restoreQuoteTweetsLink&&!config.restoreOtherInteractionLinks)return;var _ref4=(_location$pathname$ma=location.pathname.match(/^\/[a-zA-Z\d_]{1,20}\/status\/(\d+)/))!==null&&_location$pathname$ma!==void 0?_location$pathname$ma:[],_ref5=_slicedToArray(_ref4,2),tweetLink=_ref5[0],tweetId=_ref5[1];var tweetInfo=getTweetInfo(tweetId);log("focused tweet",{tweetLink:tweetLink,tweetId:tweetId,tweetInfo:tweetInfo});if(!tweetInfo)return;var shouldDisplayLinks=config.restoreQuoteTweetsLink&&tweetInfo.quote_count>0||config.restoreOtherInteractionLinks&&(tweetInfo.retweet_count>0||tweetInfo.favorite_count>0);var $existingLinks=$focusedTweet.querySelector("#tntInteractionLinks");if(!shouldDisplayLinks||$existingLinks){if(!shouldDisplayLinks)$existingLinks===null||$existingLinks===void 0||$existingLinks.remove();return}var $group=$focusedTweet.querySelector("[role=\"group\"][id^=\"id__\"]");if(!$group)return warn("focused tweet action bar not found");$group.parentElement.insertAdjacentHTML("beforebegin","\n      <div id=\"tntInteractionLinks\">\n        <div class=\"".concat(((_fontFamilyRule3=fontFamilyRule)===null||_fontFamilyRule3===void 0||(_fontFamilyRule3=_fontFamilyRule3.selectorText)===null||_fontFamilyRule3===void 0?void 0:_fontFamilyRule3.replace(".",""))||"tnt_font_family","\" style=\"padding: 16px 4px; border-top: 1px solid var(--border-color); display: flex; gap: 20px;\">\n          ").concat(tweetInfo.quote_count>0?"<a id=\"tntQuoteTweetsLink\" class=\"quoteTweets\" href=\"".concat(tweetLink,"/quotes\" dir=\"auto\" role=\"link\">\n            <span id=\"tntQuoteTweetCount\">\n              ").concat(Intl.NumberFormat(lang,{notation:tweetInfo.quote_count<10000?"standard":"compact",compactDisplay:"short"}).format(tweetInfo.quote_count),"\n            </span>\n            <span>").concat(getString(tweetInfo.quote_count==1?config.replaceLogo?"QUOTE_TWEET":"QUOTE":config.replaceLogo?"QUOTE_TWEETS":"QUOTES"),"</span>\n          </a>"):"","\n          ").concat(tweetInfo.retweet_count>0?"<a id=\"tntRetweetsLink\" data-tab=\"2\" href=\"".concat(tweetLink,"/retweets\" dir=\"auto\" role=\"link\">\n            <span>").concat(getString(config.replaceLogo?"RETWEETS":"REPOSTS"),"</span>\n          </a>"):"","\n          ").concat(tweetInfo.favorite_count>0?"<a id=\"tntLikesLink\" data-tab=\"3\" href=\"".concat(tweetLink,"/likes\" dir=\"auto\" role=\"link\">\n            <span>").concat(getString("LIKES"),"</span>\n          </a>"):"","\n        </div>\n      </div>\n    "));var links=$focusedTweet.querySelectorAll("#tntInteractionLinks a");links.forEach(function($link){$link.addEventListener("click",function(){var _ref6=_asyncToGenerator(_regeneratorRuntime().mark(function _callee5(e){var $caret,$tweetEngagements;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:$caret=$focusedTweet.querySelector("[data-testid=\"caret\"]");if($caret){_context5.next=3;break}return _context5.abrupt("return",warn("focused tweet menu caret not found"));case 3:log("clicking \"View post engagements\" menu item");e.preventDefault();$caret.click();_context5.next=8;return getElement("#layers a[data-testid=\"tweetEngagements\"]",{name:"View post engagements menu item",stopIf:pageIsNot(currentPage),timeout:500});case 8:$tweetEngagements=_context5.sent;if($tweetEngagements){tweetInteractionsTab=$link.dataset.tab||null;$tweetEngagements.click()}else{warn("falling back to full page refresh");location.href=$link.href}case 10:case"end":return _context5.stop()}},_callee5)}));return function(_x10){return _ref6.apply(this,arguments)}}())})};restoreLinkHeadline=function _restoreLinkHeadline($tweet){var $link=$tweet.querySelector("div[data-testid=\"card.layoutLarge.media\"] > a[rel][aria-label]");if($link&&!$link.dataset.headlineRestored){var _$link$lastElementChi,_fontFamilyRule2;var _$link$getAttribute$s=$link.getAttribute("aria-label").split(" "),_$link$getAttribute$s2=_toArray(_$link$getAttribute$s),site=_$link$getAttribute$s2[0],rest=_$link$getAttribute$s2.slice(1);var headline=rest.join(" ");(_$link$lastElementChi=$link.lastElementChild)===null||_$link$lastElementChi===void 0||_$link$lastElementChi.classList.add("tnt_overlay_headline");$link.insertAdjacentHTML("beforeend","<div class=\"tnt_link_headline ".concat(((_fontFamilyRule2=fontFamilyRule)===null||_fontFamilyRule2===void 0||(_fontFamilyRule2=_fontFamilyRule2.selectorText)===null||_fontFamilyRule2===void 0?void 0:_fontFamilyRule2.replace(".",""))||"tnt_font_family","\" style=\"border-top: 1px solid var(--border-color); padding: 14px;\">\n        <div style=\"color: var(--color); margin-bottom: 2px;\">").concat(site,"</div>\n        <div style=\"color: var(--color-emphasis)\">").concat(headline,"</div>\n      </div>"));$link.dataset.headlineRestored="true"}};removeMobileTimelineHeaderElements=function _removeMobileTimeline(){var _document$querySelect;(_document$querySelect=document.querySelector("#tnt_separated_tweets_tab"))===null||_document$querySelect===void 0||_document$querySelect.remove()};processCurrentPage=function _processCurrentPage(){if(pageObservers.length>0){log("disconnecting ".concat(pageObservers.length," page observer").concat(s(pageObservers.length)),pageObservers.map(function(observer){return observer["name"]}));pageObservers.forEach(function(observer){return observer.disconnect()});pageObservers=[]}$body.classList.toggle("Bookmarks",isOnBookmarksPage());$body.classList.toggle("Community",isOnCommunityPage());$body.classList.toggle("Explore",isOnExplorePage());$body.classList.toggle("HideSidebar",shouldHideSidebar());$body.classList.toggle("List",isOnListPage());$body.classList.toggle("HomeTimeline",isOnHomeTimelinePage());$body.classList.toggle("Notifications",isOnNotificationsPage());$body.classList.toggle("Profile",isOnProfilePage());if(!isOnProfilePage()){$body.classList.remove("OwnProfile","PremiumProfile")}$body.classList.toggle("ProfileFollows",isOnFollowListPage());if(!isOnFollowListPage()){$body.classList.remove("Subscriptions")}$body.classList.toggle("QuoteTweets",isOnQuoteTweetsPage());$body.classList.toggle("Tweet",isOnIndividualTweetPage());$body.classList.toggle("Search",isOnSearchPage());$body.classList.toggle("Settings",isOnSettingsPage());$body.classList.toggle("MobileMedia",mobile&&URL_MEDIA_RE.test(location.pathname));$body.classList.toggle("MediaViewer",mobile&&URL_MEDIAVIEWER_RE.test(location.pathname));$body.classList.remove("SeparatedTweets");if(isSafari&&config.replaceLogo){tweakHomeIcon()}if(config.twitterBlueChecks!="ignore"&&(isOnSearchPage()||isOnExplorePage())){observeSearchForm()}if(isOnHomeTimelinePage()){tweakHomeTimelinePage()}else{removeMobileTimelineHeaderElements()}if(isOnProfilePage()){tweakProfilePage()}else if(isOnFollowListPage()){tweakFollowListPage()}else if(isOnIndividualTweetPage()){tweakIndividualTweetPage()}else if(isOnNotificationsPage()){tweakNotificationsPage()}else if(isOnSearchPage()){tweakSearchPage()}else if(URL_TWEET_ENGAGEMENT_RE.test(currentPath)){tweakTweetEngagementPage()}else if(isOnListPage()){tweakListPage()}else if(isOnExplorePage()){tweakExplorePage()}else if(isOnBookmarksPage()){tweakBookmarksPage()}else if(isOnCommunitiesPage()){tweakCommunitiesPage()}else if(isOnCommunityPage()){tweakCommunityPage()}else if(isOnCommunityMembersPage()){tweakCommunityMembersPage()}else if(isOnDisplaySettingsPage()){tweakDisplaySettingsPage()}if(currentPath==PagePaths.COMPOSE_TWEET){tweakMobileComposeTweetPage()}else if(URL_MEDIAVIEWER_RE.test(currentPath)){tweakMobileMediaViewerPage()}};processTwitterLogos=function _processTwitterLogos($el){var _iterator9=_createForOfIteratorHelper($el.querySelectorAll(Selectors.X_LOGO_PATH)),_step9;try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){var $svgPath=_step9.value;twitterLogo($svgPath)}}catch(err){_iterator9.e(err)}finally{_iterator9.f()}};processBlueChecks=function _processBlueChecks($el){var _iterator8=_createForOfIteratorHelper($el.querySelectorAll("".concat(Selectors.VERIFIED_TICK,":not(.tnt_blue_check)"))),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var $svg=_step8.value;if(isBlueVerified($svg)){blueCheck($svg)}}}catch(err){_iterator8.e(err)}finally{_iterator8.f()}};onTitleChange=function _onTitleChange(title){log("title changed",{title:title,path:location.pathname});if(checkforDisabledHomeTimeline())return;var notificationCount="";if(TITLE_NOTIFICATION_RE.test(title)){notificationCount=TITLE_NOTIFICATION_RE.exec(title)[0];title=title.replace(TITLE_NOTIFICATION_RE,"")}if(config.replaceLogo&&Boolean(notificationCount)!=Boolean(currentNotificationCount)){observeFavicon.updatePip(Boolean(notificationCount))}var homeNavigationWasUsed=homeNavigationIsBeingUsed;homeNavigationIsBeingUsed=false;if(title=="X"||title==getString("TWITTER")){if(mobile&&(URL_MEDIA_RE.test(location.pathname)||URL_MEDIAVIEWER_RE.test(location.pathname))){log("viewing media on mobile")}else{log("ignoring Flash of Uninitialised Title");return}}var newPage=title;if(newPage!="X"&&newPage!=getString("TWITTER")){var _title;newPage=(_title=title).slice.apply(_title,_toConsumableArray(ltr?[0,title.lastIndexOf("/")-1]:[title.indexOf("\\")+2]))}var hasDesktopModalBeenOpenedOrClosed=desktop&&(location.pathname==PagePaths.TIMELINE_SETTINGS||currentPath==PagePaths.TIMELINE_SETTINGS||URL_MEDIA_RE.test(location.pathname)||URL_MEDIA_RE.test(currentPath)||location.pathname==PagePaths.COMPOSE_MESSAGE||currentPath==PagePaths.COMPOSE_MESSAGE||location.pathname==PagePaths.COMPOSE_TWEET||currentPath==PagePaths.COMPOSE_TWEET);if(newPage==currentPage){if(location.pathname!=currentPath&&!hasDesktopModalBeenOpenedOrClosed){warn("Twitter bug: title is the same but path has changed",{from:currentPath,to:location.pathname})}else{log("ignoring duplicate title change");currentNotificationCount=notificationCount;return}}if(currentPath==PagePaths.SEARCH&&location.pathname==PagePaths.SEARCH){log("ignoring title change on Search page");currentNotificationCount=notificationCount;return}if(location.pathname==PagePaths.HOME&&currentPath!=PagePaths.HOME&&!homeNavigationWasUsed&&lastHomeTimelineTitle!=null&&separatedTweetsTimelineTitle!=null&&lastHomeTimelineTitle==separatedTweetsTimelineTitle){log("restoring display of the separated tweets timeline");currentNotificationCount=notificationCount;currentPath=location.pathname;setTitle(separatedTweetsTimelineTitle);return}currentPage=newPage;currentNotificationCount=notificationCount;currentPath=location.pathname;if(isOnHomeTimelinePage()){lastHomeTimelineTitle=currentPage}log("processing new page");processCurrentPage()};onIndividualTweetTimelineChange=function _onIndividualTweetTim($timeline,options){var startTime=Date.now();var itemTypes={};var hiddenItemCount=0;var hiddenItemTypes={};var hidPreviousItem=null;var hideAllSubsequentItems=false;var opScreenName=/^\/([a-zA-Z\d_]{1,20})\//.exec(location.pathname)[1].toLowerCase();var changes=[];var userInfo=getUserInfo();var $focusedTweet;var _iterator6=_createForOfIteratorHelper($timeline.children),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var $item=_step6.value;var itemType=null;var hideItem=null;var $tweet=$item.querySelector(Selectors.TWEET);var isFocusedTweet=false;var isReply=false;var tweetVerifiedType=null;var screenName=null;if(hideAllSubsequentItems){hideItem=true;itemType="DISCOVER_MORE_TWEET"}else if($tweet!=null){isFocusedTweet=$tweet.tabIndex==-1;isReply=isReplyToPreviousTweet($tweet);if(isFocusedTweet){itemType="FOCUSED_TWEET";hideItem=false;$focusedTweet=$tweet}else{itemType=getTweetType($tweet);if(isReply&&hidPreviousItem!=null){hideItem=hidPreviousItem}else{hideItem=shouldHideIndividualTweetTimelineItem(itemType)}}if(!hideItem&&config.restoreLinkHeadlines){restoreLinkHeadline($tweet)}if(!hideItem&&(config.twitterBlueChecks!="ignore"||config.hideTwitterBlueReplies)){var _iterator7=_createForOfIteratorHelper($tweet.querySelectorAll(Selectors.VERIFIED_TICK)),_step7;try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var $svg=_step7.value;var verifiedType=getVerifiedType($svg);if(!verifiedType)continue;if(config.twitterBlueChecks!="ignore"&&verifiedType=="BLUE"){blueCheck($svg)}var $userProfileLink=$svg.closest("a[role=\"link\"]:not([href^=\"/i/status\"])");if(!$userProfileLink)continue;tweetVerifiedType=verifiedType;screenName=$userProfileLink.href.split("/").pop()}}catch(err){_iterator7.e(err)}finally{_iterator7.f()}if(tweetVerifiedType&&!isFocusedTweet&&!isReply&&screenName.toLowerCase()!=opScreenName){itemType="".concat(tweetVerifiedType,"_REPLY");if(!hideItem){var user=userInfo[screenName];var shouldHideBasedOnVerifiedType=config.hideTwitterBlueReplies&&(tweetVerifiedType=="BLUE"||tweetVerifiedType=="VERIFIED_ORG"&&!config.showBlueReplyVerifiedAccounts);hideItem=shouldHideBasedOnVerifiedType&&(user==null||!(user.following&&!config.hideBlueReplyFollowing||user.followedBy&&!config.hideBlueReplyFollowedBy||config.showBlueReplyFollowersCount&&user.followersCount>=Number(config.showBlueReplyFollowersCountAmount)))}}}}else{var $article=$item.querySelector("article");if($article){itemType="UNAVAILABLE";var $button=$article.querySelector("[role=\"button\"]");if($button){if($button.textContent==getString("SHOW")){itemType="SHOW_MORE"}else if($button.textContent==getString("VIEW")){hideItem=config.hideUnavailableQuoteTweets}}else if($article.textContent==getString("POST_UNAVAILABLE")){hideItem=config.hideUnavailableQuoteTweets}}else{var _$button=$item.querySelector("button[role=\"button\"]");if(_$button){if((_$button===null||_$button===void 0?void 0:_$button.textContent)==getString("SHOW_MORE_REPLIES")){itemType="SHOW_MORE"}}else{var $heading=$item.querySelector(Selectors.TIMELINE_HEADING);if($heading){if($heading.nextElementSibling&&$heading.nextElementSibling.tagName=="DIV"&&$heading.nextElementSibling.getAttribute("dir")!=null){itemType="DISCOVER_MORE_HEADING";hideItem=config.hideMoreTweets;hideAllSubsequentItems=config.hideMoreTweets}else{itemType="HEADING"}}}}}if(debug&&itemType!=null){$item.firstElementChild.dataset.itemType="".concat(itemType).concat(isReply?" / REPLY":"")}if(itemType==null&&hidPreviousItem!=null){hideItem=hidPreviousItem;itemType="SUBSEQUENT_ITEM"}if(itemType!=null){var _itemType3;itemTypes[_itemType3=itemType]||(itemTypes[_itemType3]=0);itemTypes[itemType]++}if(hideItem){var _hiddenItemTypes,_itemType4;hiddenItemCount++;(_hiddenItemTypes=hiddenItemTypes)[_itemType4=itemType]||(_hiddenItemTypes[_itemType4]=0);hiddenItemTypes[itemType]++}if(isFocusedTweet){changes=[];hiddenItemCount=0;hiddenItemTypes={}}else if(hideItem!=null&&$item.firstElementChild){if($item.firstElementChild.style.display!=(hideItem?"none":"")){changes.push({$item:$item,hideItem:hideItem})}}hidPreviousItem=hideItem}}catch(err){_iterator6.e(err)}finally{_iterator6.f()}for(var _i3=0,_changes2=changes;_i3<_changes2.length;_i3++){var change=_changes2[_i3];change.$item.firstElementChild.style.display=change.hideItem?"none":""}tweakFocusedTweet($focusedTweet,options);log("processed ".concat($timeline.children.length," thread item").concat(s($timeline.children.length)," in ").concat(Date.now()-startTime,"ms"),itemTypes,"hid ".concat(hiddenItemCount),hiddenItemTypes)};onTimelineChange=function _onTimelineChange($timeline,page){var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var startTime=Date.now();var _options$classifyTwee=options.classifyTweets,classifyTweets=_options$classifyTwee===void 0?true:_options$classifyTwee,_options$hideHeadings=options.hideHeadings,hideHeadings=_options$hideHeadings===void 0?true:_options$hideHeadings,_options$isUserTimeli=options.isUserTimeline,isUserTimeline=_options$isUserTimeli===void 0?false:_options$isUserTimeli;var isOnHomeTimeline=isOnHomeTimelinePage();var isOnListTimeline=isOnListPage();var isOnProfileTimeline=isOnProfilePage();var timelineHasSpecificHandling=isOnHomeTimeline||isOnListTimeline||isOnProfileTimeline;if(config.twitterBlueChecks!="ignore"&&(isUserTimeline||!timelineHasSpecificHandling)){processBlueChecks($timeline)}if(isSafari&&config.replaceLogo&&isOnNotificationsPage()){processTwitterLogos($timeline)}if(isUserTimeline||!classifyTweets)return;var itemTypes={};var hiddenItemCount=0;var hiddenItemTypes={};var hidPreviousItem=null;var changes=[];var _iterator4=_createForOfIteratorHelper($timeline.children),_step4;try{var _loop=function _loop(){var $item=_step4.value;var itemType=null;var hideItem=null;var $tweet=$item.querySelector(Selectors.TWEET);var isReply=false;var isBlueTweet=false;if($tweet!=null){itemType=getTweetType($tweet,isOnProfileTimeline);if(timelineHasSpecificHandling){isReply=isReplyToPreviousTweet($tweet);if(isReply&&hidPreviousItem!=null){hideItem=hidPreviousItem}else{if(isOnHomeTimeline){hideItem=shouldHideHomeTimelineItem(itemType,page);if(config.mutableQuoteTweets&&!hideItem&&itemType=="QUOTE_TWEET"&&config.hideQuotesFrom.length>0){var $quotedByLink=$tweet.querySelector("[data-testid=\"User-Name\"] a");var quotedBy=$quotedByLink===null||$quotedByLink===void 0?void 0:$quotedByLink.pathname.substring(1);if(quotedBy){hideItem=config.hideQuotesFrom.includes(quotedBy)}else{warn("hideQuotesFrom: unable to get quote tweet user")}}}else if(isOnListTimeline){hideItem=shouldHideListTimelineItem(itemType)}else if(isOnProfileTimeline){hideItem=shouldHideProfileTimelineItem(itemType)}}if(!hideItem&&config.mutableQuoteTweets&&(itemType=="QUOTE_TWEET"||itemType=="RETWEETED_QUOTE_TWEET")){if(config.mutedQuotes.length>0){var _quotedTweet=getQuotedTweetDetails($tweet);hideItem=config.mutedQuotes.some(function(muted){return muted.user==_quotedTweet.user&&muted.time==_quotedTweet.time})}if(!hideItem){addCaretMenuListenerForQuoteTweet($tweet)}}if(config.twitterBlueChecks!="ignore"){var _iterator5=_createForOfIteratorHelper($tweet.querySelectorAll(Selectors.VERIFIED_TICK)),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var $svg=_step5.value;var isBlueCheck=isBlueVerified($svg);if(!isBlueCheck)continue;blueCheck($svg);var userProfileLink=$svg.closest("a[role=\"link\"]:not([href^=\"/i/status\"])");if(!userProfileLink)continue;isBlueTweet=true}}catch(err){_iterator5.e(err)}finally{_iterator5.f()}}}if(!hideItem&&config.restoreLinkHeadlines){restoreLinkHeadline($tweet)}}else if(!timelineHasSpecificHandling){if($item.querySelector(":scope > div > div > div > article")){itemType="UNAVAILABLE"}}if(!timelineHasSpecificHandling){if(itemType!=null){hideItem=shouldHideOtherTimelineItem(itemType)}}if(itemType==null){if($item.querySelector("[data-testid=\"inlinePrompt\"]")){itemType="INLINE_PROMPT";hideItem=config.hideInlinePrompts||config.hideTwitterBlueUpsells&&Boolean($item.querySelector("a[href^=\"/i/premium\"]"))||config.hideMonetizationNav&&Boolean($item.querySelector("a[href=\"/settings/monetization\"]"))}else if($item.querySelector(Selectors.TIMELINE_HEADING)){itemType="HEADING";hideItem=hideHeadings&&config.hideWhoToFollowEtc}}if(debug&&itemType!=null){$item.firstElementChild.dataset.itemType="".concat(itemType).concat(isReply?" / REPLY":"").concat(isBlueTweet?" / BLUE":"")}if(itemType==null&&hidPreviousItem!=null){hideItem=hidPreviousItem;itemType="SUBSEQUENT_ITEM"}if(itemType!=null){var _itemType;itemTypes[_itemType=itemType]||(itemTypes[_itemType]=0);itemTypes[itemType]++}if(hideItem){var _itemType2;hiddenItemCount++;hiddenItemTypes[_itemType2=itemType]||(hiddenItemTypes[_itemType2]=0);hiddenItemTypes[itemType]++}if(hideItem!=null&&$item.firstElementChild){if($item.firstElementChild.style.display!=(hideItem?"none":"")){changes.push({$item:$item,hideItem:hideItem})}}hidPreviousItem=hideItem};for(_iterator4.s();!(_step4=_iterator4.n()).done;){_loop()}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}for(var _i2=0,_changes=changes;_i2<_changes.length;_i2++){var change=_changes[_i2];change.$item.firstElementChild.style.display=change.hideItem?"none":""}log("processed ".concat($timeline.children.length," timeline item").concat(s($timeline.children.length)," in ").concat(Date.now()-startTime,"ms"),itemTypes,"hid ".concat(hiddenItemCount),hiddenItemTypes)};onPopup=function _onPopup($popup){log("popup appeared",$popup,location.pathname);var _handlePopup=handlePopup($popup),tookAction=_handlePopup.tookAction,onPopupClosed=_handlePopup.onPopupClosed;if(tookAction){return onPopupClosed?{disconnect:onPopupClosed}:null}var $nestedPopup;var nestedObserver=observeElement($popup,function(mutations){mutations.forEach(function(mutation){mutation.addedNodes.forEach(function($el){log("nested popup appeared",$el);$nestedPopup=$el;var _handlePopup2=handlePopup($el);onPopupClosed=_handlePopup2.onPopupClosed});mutation.removedNodes.forEach(function($el){if($el!==$nestedPopup)return;if(onPopupClosed){log("cleaning up after nested popup removed");onPopupClosed()}})})},"nested popup observer");var disconnect=nestedObserver.disconnect.bind(nestedObserver);nestedObserver.disconnect=function(){if(onPopupClosed){log("cleaning up after nested popup observer disconnected");onPopupClosed()}disconnect()};return nestedObserver};isReplyToPreviousTweet=function _isReplyToPreviousTwe($tweet){var _$tweet$firstElementC;var $replyLine=(_$tweet$firstElementC=$tweet.firstElementChild)===null||_$tweet$firstElementC===void 0||(_$tweet$firstElementC=_$tweet$firstElementC.firstElementChild)===null||_$tweet$firstElementC===void 0||(_$tweet$firstElementC=_$tweet$firstElementC.firstElementChild)===null||_$tweet$firstElementC===void 0||(_$tweet$firstElementC=_$tweet$firstElementC.firstElementChild)===null||_$tweet$firstElementC===void 0||(_$tweet$firstElementC=_$tweet$firstElementC.firstElementChild)===null||_$tweet$firstElementC===void 0?void 0:_$tweet$firstElementC.firstElementChild;if($replyLine){return getComputedStyle($replyLine).width=="2px"}};getVerifiedType=function _getVerifiedType($svg){var props=getVerifiedProps($svg);if(props){var _props$affiliateBadge3,_props$affiliateBadge4;if(((_props$affiliateBadge3=props.affiliateBadgeInfo)===null||_props$affiliateBadge3===void 0?void 0:_props$affiliateBadge3.userLabelType)=="BusinessLabel"&&((_props$affiliateBadge4=props.affiliateBadgeInfo)===null||_props$affiliateBadge4===void 0?void 0:_props$affiliateBadge4.description)=="X")return null;if(props.verifiedType=="Business")return"VERIFIED_ORG";if(props.isBlueVerified)return"BLUE"}return null};isBlueVerified=function _isBlueVerified($svg){var _props$affiliateBadge,_props$affiliateBadge2;var props=getVerifiedProps($svg);return Boolean(props&&props.isBlueVerified&&!(props.verifiedType||((_props$affiliateBadge=props.affiliateBadgeInfo)===null||_props$affiliateBadge===void 0?void 0:_props$affiliateBadge.userLabelType)=="BusinessLabel"&&((_props$affiliateBadge2=props.affiliateBadgeInfo)===null||_props$affiliateBadge2===void 0?void 0:_props$affiliateBadge2.description)=="X"))};handlePopup=function _handlePopup3($popup){var result={tookAction:false,onPopupClosed:null};if(changingSortReplies){var $dialog=$popup.querySelector("[data-testid=\"".concat(desktop?"HoverCard":"sheetDialog","\"]"));if($dialog){var _$menuItems$0$previou;var $menuItems=$dialog.querySelectorAll("div[role=\"menuitem\"]");if(((_$menuItems$0$previou=$menuItems[0].previousElementSibling)===null||_$menuItems$0$previou===void 0?void 0:_$menuItems$0$previou.textContent)==getString("SORT_REPLIES")){var _$menuItems$recent$li;log("sortReplies: changing Sort replies to",config.sortReplies);(_$menuItems$recent$li=$menuItems[{recent:1,liked:2}[config.sortReplies]])===null||_$menuItems$recent$li===void 0||_$menuItems$recent$li.click()}else{warn("sortReplies: dialog does not contain \"Sort replies\" heading")}result.tookAction=true;changingSortReplies=false;return result}else{warn("sortReplies: could not find Sort replies dialog");changingSortReplies=false}}if(config.replaceLogo){var $retweetDropdownItem=$popup.querySelector("div:is([data-testid=\"retweetConfirm\"], [data-testid=\"repostConfirm\"])");if($retweetDropdownItem){tweakRetweetDropdown($retweetDropdownItem,"div:is([data-testid=\"retweetConfirm\"], [data-testid=\"repostConfirm\"])","RETWEET");return{tookAction:true}}var $unretweetDropdownItem=$popup.querySelector("div:is([data-testid=\"unretweetConfirm\"], [data-testid=\"unrepostConfirm\"])");if($unretweetDropdownItem){tweakRetweetDropdown($unretweetDropdownItem,"div:is([data-testid=\"unretweetConfirm\"], [data-testid=\"unrepostConfirm\"])","UNDO_RETWEET");return{tookAction:true}}var $hoverLabel=$popup.querySelector("span[data-testid=\"HoverLabel\"] > span");if(($hoverLabel===null||$hoverLabel===void 0?void 0:$hoverLabel.textContent)==getString("REPOST")){$hoverLabel.textContent=getString("RETWEET")}}if(isOnListPage()){var $switchSvg=$popup.querySelector("svg path[d=\"M3 2h18.61l-3.5 7 3.5 7H5v6H3V2zm2 12h13.38l-2.5-5 2.5-5H5v10z\"]");if($switchSvg){addToggleListRetweetsMenuItem($popup.querySelector("[role=\"menuitem\"]"));return{tookAction:true}}}if(config.mutableQuoteTweets){if(quotedTweet){var $blockMenuItem=$popup.querySelector(Selectors.BLOCK_MENU_ITEM);if($blockMenuItem){addMuteQuotesMenuItems($blockMenuItem);result.tookAction=true;result.onPopupClosed=function(){quotedTweet=null}}else{quotedTweet=null}}}if(config.fastBlock){if(blockMenuItemSeen&&$popup.querySelector("[data-testid=\"confirmationSheetConfirm\"]")){log("fast blocking");$popup.querySelector("[data-testid=\"confirmationSheetConfirm\"]").click();result.tookAction=true}else if($popup.querySelector(Selectors.BLOCK_MENU_ITEM)){log("preparing for fast blocking");blockMenuItemSeen=true;result.tookAction=!mobile}else{blockMenuItemSeen=false}}if(config.hideTwitterBlueUpsells){if(pinMenuItemSeen&&$popup.querySelector("[data-testid=\"sheetDialog\"]")){log("pin to your profile modal opened");$popup.classList.add("PinModal");result.tookAction=true}else if($popup.querySelector("[data-testid=\"highlighOnPin\"]")){log("preparing to hide Twitter Blue upsell when pinning a tweet");pinMenuItemSeen=true;result.tookAction=!mobile}else{pinMenuItemSeen=false}}if(config.addAddMutedWordMenuItem){var linkSelector="a[href$=\"/settings\"]";var $link=$popup.querySelector(linkSelector);if($link){addAddMutedWordMenuItem($link,linkSelector);result.tookAction=true}}if(config.twitterBlueChecks!="ignore"){var $typeaheadDropdown=$popup.querySelector("div[id^=\"typeaheadDropdown\"]");if($typeaheadDropdown){log("typeahead dropdown appeared");var observer=observeElement($typeaheadDropdown,function(){processBlueChecks($typeaheadDropdown)},"popup typeahead dropdown");return{tookAction:true,onPopupClosed:function onPopupClosed(){log("typeahead dropdown closed");observer.disconnect()}}}var $hoverCard=$popup.querySelector("[data-testid=\"HoverCard\"]");if($hoverCard){result.tookAction=true;getElement("div[data-testid^=\"UserAvatar-Container\"]",{context:$hoverCard,name:"user hovercard contents",timeout:500}).then(function($contents){if($contents)processBlueChecks($popup)})}}if(config.twitterBlueChecks=="replace"&&isOnProfilePage()){var $verificationBadge=$popup.querySelector("[data-testid=\"sheetDialog\"] [data-testid=\"verificationBadge\"]");if($verificationBadge){result.tookAction=true;var $headerBlueCheck=document.querySelector("body.Profile ".concat(Selectors.MOBILE_TIMELINE_HEADER," .tnt_blue_check"));if($headerBlueCheck){blueCheck($verificationBadge)}}var _$hoverCard}return result};getVerifiedProps=function _getVerifiedProps($svg){var propsGetter=function propsGetter(props){var _props$children;return props===null||props===void 0||(_props$children=props.children)===null||_props$children===void 0||(_props$children=_props$children.props)===null||_props$children===void 0||(_props$children=_props$children.children)===null||_props$children===void 0||(_props$children=_props$children[0])===null||_props$children===void 0||(_props$children=_props$children[0])===null||_props$children===void 0?void 0:_props$children.props};var $parent=$svg.parentElement.parentElement;if(isOnProfilePage()&&$svg.parentElement.getAttribute("role")=="button"){$parent=$svg.closest("span").parentElement}else if(isOnNotificationsPage()&&$parent.getAttribute("role")=="link"){propsGetter=function propsGetter(props){var _props$children2,_linkChildren;var linkChildren=props===null||props===void 0||(_props$children2=props.children)===null||_props$children2===void 0||(_props$children2=_props$children2.props)===null||_props$children2===void 0||(_props$children2=_props$children2.children)===null||_props$children2===void 0?void 0:_props$children2[0];return linkChildren===null||linkChildren===void 0||(_linkChildren=linkChildren[linkChildren.length-1])===null||_linkChildren===void 0?void 0:_linkChildren.props}}if($parent.wrappedJSObject){$parent=$parent.wrappedJSObject}var reactPropsKey=Object.keys($parent).find(function(key){return key.startsWith("__reactProps$")});var props=propsGetter($parent[reactPropsKey]);if(!props){warn("React props not found for",$svg)}else if(!("isBlueVerified"in props)){warn("isBlueVerified not in React props for",$svg,{props:props})}return props};getTweetType=function _getTweetType($tweet){var _$tweet$querySelector4;var checkSocialContext=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if($tweet.closest(Selectors.PROMOTED_TWEET_CONTAINER)){return"PROMOTED_TWEET"}if($tweet.querySelector("[data-testid=\"socialContext\"]")){var _$tweet$querySelector3;if(checkSocialContext){var _$tweet$querySelector,_$tweet$querySelector2;var svgPath=(_$tweet$querySelector=(_$tweet$querySelector2=$tweet.querySelector("svg path"))===null||_$tweet$querySelector2===void 0?void 0:_$tweet$querySelector2.getAttribute("d"))!==null&&_$tweet$querySelector!==void 0?_$tweet$querySelector:"";if(svgPath.startsWith("M7 4.5C7 3.12 8.12 2 9.5 2h5C1"))return"PINNED_TWEET"}if($tweet.querySelector("article")){return"UNAVAILABLE_RETWEET"}if((_$tweet$querySelector3=$tweet.querySelector("div[id^=\"id__\"] > div[dir] > span"))!==null&&_$tweet$querySelector3!==void 0&&_$tweet$querySelector3.textContent.includes(getString("QUOTE"))){return"RETWEETED_QUOTE_TWEET"}return"RETWEET"}if((_$tweet$querySelector4=$tweet.querySelector("div[id^=\"id__\"] > div[dir] > span"))!==null&&_$tweet$querySelector4!==void 0&&_$tweet$querySelector4.textContent.includes(getString("QUOTE"))){return"QUOTE_TWEET"}if($tweet.querySelector("article")){return"UNAVAILABLE_QUOTE_TWEET"}return"TWEET"};getQuotedTweetDetails=function _getQuotedTweetDetail($tweet){var _$quotedByLink$pathna,_$userName$querySelec,_$userName$querySelec2,_$heading$nextElement;var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var _options$getText=options.getText,getText=_options$getText===void 0?false:_options$getText;var $quotedByLink=$tweet.querySelector("[data-testid=\"User-Name\"] a");var $quotedTweet=$tweet.querySelector("div[id^=\"id__\"] > div[dir] > span").parentElement.nextElementSibling;var $userName=$quotedTweet===null||$quotedTweet===void 0?void 0:$quotedTweet.querySelector("[data-testid=\"User-Name\"]");var quotedBy=$quotedByLink===null||$quotedByLink===void 0||(_$quotedByLink$pathna=$quotedByLink.pathname)===null||_$quotedByLink$pathna===void 0?void 0:_$quotedByLink$pathna.substring(1);var user=$userName===null||$userName===void 0||(_$userName$querySelec=$userName.querySelector("[tabindex=\"-1\"]"))===null||_$userName$querySelec===void 0?void 0:_$userName$querySelec.textContent;var time=$userName===null||$userName===void 0||(_$userName$querySelec2=$userName.querySelector("time"))===null||_$userName$querySelec2===void 0?void 0:_$userName$querySelec2.dateTime;if(!getText)return{quotedBy:quotedBy,user:user,time:time};var $heading=$quotedTweet===null||$quotedTweet===void 0?void 0:$quotedTweet.querySelector(":scope > div > div:first-child");var $qtText=$heading===null||$heading===void 0||(_$heading$nextElement=$heading.nextElementSibling)===null||_$heading$nextElement===void 0?void 0:_$heading$nextElement.querySelector("[lang]");var text=$qtText&&Array.from($qtText.childNodes,function(node){if(node.nodeType==1){if(node.nodeName=="IMG")return node.alt;return node.textContent}return node.nodeValue}).join("");return{quotedBy:quotedBy,user:user,time:time,text:text}};_setDefaultSortReplies=function _setDefaultSortReplie2(){_setDefaultSortReplies=_asyncToGenerator(_regeneratorRuntime().mark(function _callee21(){var _$svg$nextElementSibl;var $sortRepliesIconPath,$svg,currentSort,changeSort,$focusedTweet;return _regeneratorRuntime().wrap(function _callee21$(_context21){while(1)switch(_context21.prev=_context21.next){case 0:changeSort=function _changeSort(){if(changingSortReplies){warn("sortReplies: ignoring additonal changeSort() call");return}changingSortReplies=true;log("sortReplies: clicking Sort replies dropdown",$svg.parentElement.parentElement);setTimeout(function(){return $svg.parentElement.parentElement.click()},100)};if(!(config.sortReplies=="relevant")){_context21.next=3;break}return _context21.abrupt("return");case 3:_context21.next=5;return getElement(Selectors.SORT_REPLIES_PATH,{name:"sort replies icon",stopIf:pageIsNot(currentPage),timeout:3000});case 5:$sortRepliesIconPath=_context21.sent;if($sortRepliesIconPath){_context21.next=8;break}return _context21.abrupt("return");case 8:$svg=$sortRepliesIconPath.parentElement.parentElement;currentSort=(_$svg$nextElementSibl=$svg.nextElementSibling)===null||_$svg$nextElementSibl===void 0?void 0:_$svg$nextElementSibl.textContent;log("sortReplies: replies are sorted by",currentSort);if(!(currentSort!=getString("MOST_RELEVANT"))){_context21.next=13;break}return _context21.abrupt("return");case 13:$focusedTweet=$svg.closest("div[data-testid=\"cellInnerDiv\"]");if(!($focusedTweet.parentElement.childElementCount>1)){_context21.next=17;break}changeSort();return _context21.abrupt("return");case 17:pageObservers.push(observeElement($focusedTweet.parentElement,function(){if($focusedTweet.parentElement.childElementCount>2){log("sortReplies: timeline elements added");disconnectPageObserver("sortReplies: individual tweet timeline");changeSort()}},"sortReplies: individual tweet timeline"));case 18:case"end":return _context21.stop()}},_callee21)}));return _setDefaultSortReplies.apply(this,arguments)};setDefaultSortReplies=function _setDefaultSortReplie(){return _setDefaultSortReplies.apply(this,arguments)};configureSeparatedTweetsTimelineTitle=function _configureSeparatedTw(){var wasOnSeparatedTweetsTimeline=isOnSeparatedTweetsTimeline();var previousTitle=separatedTweetsTimelineTitle;if(config.retweets=="separate"&&config.quoteTweets=="separate"){separatedTweetsTimelineTitle=getString(config.replaceLogo?"SHARED_TWEETS":"SHARED")}else if(config.retweets=="separate"){separatedTweetsTimelineTitle=getString(config.replaceLogo?"RETWEETS":"REPOSTS")}else if(config.quoteTweets=="separate"){separatedTweetsTimelineTitle=getString(config.replaceLogo?"QUOTE_TWEETS":"QUOTES")}else{separatedTweetsTimelineTitle=null}var titleChanged=previousTitle!=separatedTweetsTimelineTitle;if(wasOnSeparatedTweetsTimeline){if(separatedTweetsTimelineTitle==null){log("moving from separated tweets timeline to Home timeline after config change");setTitle(getString("HOME"));return true}if(titleChanged){log("applying new separated tweets timeline title after config change");setTitle(separatedTweetsTimelineTitle);return true}}else{if(titleChanged&&previousTitle!=null&&lastHomeTimelineTitle==previousTitle){log("updating lastHomeTimelineTitle with new separated tweets timeline title");lastHomeTimelineTitle=separatedTweetsTimelineTitle}}};configureHideMetricsCss=function _configureHideMetrics(cssRules,hideCssSelectors){if(config.hideFollowingMetrics){hideCssSelectors.push(":is(#layers, body.Profile) a:is([href$=\"/following\"], [href$=\"/verified_followers\"]) > span:first-child");cssRules.push(":is(#layers, body.Profile) a:is([href$=\"/following\"], [href$=\"/verified_followers\"]) { white-space: pre-line; }")}if(config.hideTotalTweetsMetrics){hideCssSelectors.push("\n        body.Profile ".concat(mobile?Selectors.MOBILE_TIMELINE_HEADER:Selectors.PRIMARY_COLUMN," > div > div:first-of-type h2 + div[dir]\n      "))}var timelineMetricSelectors=[config.hideReplyMetrics&&"[data-testid=\"reply\"]",config.hideRetweetMetrics&&"[data-testid$=\"retweet\"]",config.hideLikeMetrics&&"[data-testid$=\"like\"]",config.hideBookmarkMetrics&&"[data-testid$=\"bookmark\"], [data-testid$=\"removeBookmark\"]"].filter(Boolean).join(", ");if(timelineMetricSelectors){cssRules.push("[role=\"group\"] button:is(".concat(timelineMetricSelectors,") span { visibility: hidden; }"))}if(config.hideQuoteTweetMetrics){hideCssSelectors.push("#tntQuoteTweetCount")}};configureFont=function _configureFont(){if(!fontFamilyRule){warn("no fontFamilyRule found for configureFont to use");return}if(config.dontUseChirpFont){if(fontFamilyRule.style.fontFamily.includes("TwitterChirp")){fontFamilyRule.style.fontFamily=fontFamilyRule.style.fontFamily.replace(/"?TwitterChirp"?, ?/,"");log("disabled Chirp font")}}else if(!fontFamilyRule.style.fontFamily.includes("TwitterChirp")){fontFamilyRule.style.fontFamily="\"TwitterChirp\", ".concat(fontFamilyRule.style.fontFamily);log("enabled Chirp font")}};checkforDisabledHomeTimeline=function _checkforDisabledHome(){if(config.disableHomeTimeline&&location.pathname==PagePaths.HOME){log("Home timeline disabled, redirecting to /".concat(config.disabledHomeTimelineRedirect));var primaryNavSelector=desktop?Selectors.PRIMARY_NAV_DESKTOP:Selectors.PRIMARY_NAV_MOBILE;void _asyncToGenerator(_regeneratorRuntime().mark(function _callee4(){var $navLink;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return getElement("".concat(primaryNavSelector," a[href=\"/").concat(config.disabledHomeTimelineRedirect,"\"]"),{name:"".concat(config.disabledHomeTimelineRedirect," nav link"),stopIf:function stopIf(){return location.pathname!=PagePaths.HOME}});case 2:$navLink=_context4.sent;if($navLink){_context4.next=5;break}return _context4.abrupt("return");case 5:$navLink.click();case 6:case"end":return _context4.stop()}},_callee4)}))();return true}};_addToggleListRetweetsMenuItem=function _addToggleListRetweet2(){_addToggleListRetweetsMenuItem=_asyncToGenerator(_regeneratorRuntime().mark(function _callee20($switchMenuItem){var _$toggleRetweets$quer;var $toggleRetweets;return _regeneratorRuntime().wrap(function _callee20$(_context20){while(1)switch(_context20.prev=_context20.next){case 0:log("adding \"Turn on/off Retweets\" menu item");$toggleRetweets=$switchMenuItem.cloneNode(true);$toggleRetweets.classList.add("tnt_menu_item");$toggleRetweets.querySelector("span").textContent=getString("TURN_".concat(config.listRetweets=="ignore"?"OFF":"ON","_RETWEETS"));$toggleRetweets.querySelector("svg").innerHTML=config.listRetweets=="ignore"?Svgs.RETWEETS_OFF:Svgs.RETWEET;(_$toggleRetweets$quer=$toggleRetweets.querySelector("div[dir] + div[dir]"))===null||_$toggleRetweets$quer===void 0||_$toggleRetweets$quer.remove();$toggleRetweets.addEventListener("click",function(e){var _$switchMenuItem$clos;e.preventDefault();log("toggling list retweets");config.listRetweets=config.listRetweets=="ignore"?"hide":"ignore";storeConfigChanges({listRetweets:config.listRetweets});processCurrentPage();var $menuLayer=(_$switchMenuItem$clos=$switchMenuItem.closest("[role=\"group\"]"))===null||_$switchMenuItem$clos===void 0||(_$switchMenuItem$clos=_$switchMenuItem$clos.firstElementChild)===null||_$switchMenuItem$clos===void 0?void 0:_$switchMenuItem$clos.firstElementChild;if(!$menuLayer){log("could not find menu layer to dismiss menu")}$menuLayer===null||$menuLayer===void 0||$menuLayer.click()});$switchMenuItem.insertAdjacentElement("beforebegin",$toggleRetweets);case 8:case"end":return _context20.stop()}},_callee20)}));return _addToggleListRetweetsMenuItem.apply(this,arguments)};addToggleListRetweetsMenuItem=function _addToggleListRetweet(_x9){return _addToggleListRetweetsMenuItem.apply(this,arguments)};_addMutedWord=function _addMutedWord3(){_addMutedWord=_asyncToGenerator(_regeneratorRuntime().mark(function _callee19(){var $settingsAndSupport,_i4,_arr,path,$link,$input;return _regeneratorRuntime().wrap(function _callee19$(_context19){while(1)switch(_context19.prev=_context19.next){case 0:if(!document.querySelector("a[href=\"/settings")){$settingsAndSupport=document.querySelector("[data-testid=\"settingsAndSupport\"]");$settingsAndSupport===null||$settingsAndSupport===void 0||$settingsAndSupport.click()}_i4=0,_arr=["/settings","/settings/privacy_and_safety","/settings/mute_and_block","/settings/muted_keywords","/settings/add_muted_keyword"];case 2:if(!(_i4<_arr.length)){_context19.next=13;break}path=_arr[_i4];_context19.next=6;return getElement("a[href=\"".concat(path,"\"]"),{timeout:500});case 6:$link=_context19.sent;if($link){_context19.next=9;break}return _context19.abrupt("return");case 9:$link.click();case 10:_i4++;_context19.next=2;break;case 13:_context19.next=15;return getElement("input[name=\"keyword\"]");case 15:$input=_context19.sent;setTimeout(function(){return $input.focus()},100);case 17:case"end":return _context19.stop()}},_callee19)}));return _addMutedWord.apply(this,arguments)};addMutedWord=function _addMutedWord2(){return _addMutedWord.apply(this,arguments)};_addMuteQuotesMenuItems=function _addMuteQuotesMenuIte2(){_addMuteQuotesMenuItems=_asyncToGenerator(_regeneratorRuntime().mark(function _callee18($blockMenuItem){var _quotedTweet2;var $muteQuotes,$toggleQuotes;return _regeneratorRuntime().wrap(function _callee18$(_context18){while(1)switch(_context18.prev=_context18.next){case 0:log("mutableQuoteTweets: adding \"Mute this conversation\" and \"Turn off Quote Tweets\" menu item");$muteQuotes=$blockMenuItem.previousElementSibling.cloneNode(true);$muteQuotes.classList.add("tnt_menu_item");$muteQuotes.querySelector("span").textContent=getString("MUTE_THIS_CONVERSATION");$muteQuotes.addEventListener("click",function(e){var _$blockMenuItem$close;e.preventDefault();log("mutableQuoteTweets: muting quotes of a tweet",quotedTweet);config.mutedQuotes=config.mutedQuotes.concat(quotedTweet);storeConfigChanges({mutedQuotes:config.mutedQuotes});processCurrentPage();var $menuLayer=(_$blockMenuItem$close=$blockMenuItem.closest("[role=\"group\"]"))===null||_$blockMenuItem$close===void 0||(_$blockMenuItem$close=_$blockMenuItem$close.firstElementChild)===null||_$blockMenuItem$close===void 0?void 0:_$blockMenuItem$close.firstElementChild;if(!$menuLayer){warn("mutableQuoteTweets: could not find menu layer to dismiss menu")}$menuLayer===null||$menuLayer===void 0||$menuLayer.click()});if((_quotedTweet2=quotedTweet)!==null&&_quotedTweet2!==void 0&&_quotedTweet2.quotedBy){$toggleQuotes=$blockMenuItem.previousElementSibling.cloneNode(true);$toggleQuotes.classList.add("tnt_menu_item");$toggleQuotes.querySelector("span").textContent=getString("TURN_OFF_QUOTE_TWEETS");$toggleQuotes.querySelector("svg").innerHTML=Svgs.RETWEETS_OFF;$toggleQuotes.addEventListener("click",function(e){var _$blockMenuItem$close2;e.preventDefault();log("mutableQuoteTweets: toggling quotes from",quotedTweet.quotedBy);if(config.hideQuotesFrom.includes(quotedTweet.quotedBy)){config.hideQuotesFrom=config.hideQuotesFrom.filter(function(user){return user!=quotedTweet.quotedBy})}else{config.hideQuotesFrom=config.hideQuotesFrom.concat(quotedTweet.quotedBy)}storeConfigChanges({hideQuotesFrom:config.hideQuotesFrom});processCurrentPage();var $menuLayer=(_$blockMenuItem$close2=$blockMenuItem.closest("[role=\"group\"]"))===null||_$blockMenuItem$close2===void 0||(_$blockMenuItem$close2=_$blockMenuItem$close2.firstElementChild)===null||_$blockMenuItem$close2===void 0?void 0:_$blockMenuItem$close2.firstElementChild;if(!$menuLayer){warn("mutableQuoteTweets: could not find menu layer to dismiss menu")}$menuLayer===null||$menuLayer===void 0||$menuLayer.click()});$blockMenuItem.insertAdjacentElement("beforebegin",$toggleQuotes)}else{warn("mutableQuoteTweets: quotedBy not available when Tweet menu was opened")}$blockMenuItem.insertAdjacentElement("beforebegin",$muteQuotes);case 7:case"end":return _context18.stop()}},_callee18)}));return _addMuteQuotesMenuItems.apply(this,arguments)};addMuteQuotesMenuItems=function _addMuteQuotesMenuIte(_x8){return _addMuteQuotesMenuItems.apply(this,arguments)};addCaretMenuListenerForQuoteTweet=function _addCaretMenuListener($tweet){var $caret=$tweet.querySelector("[data-testid=\"caret\"]");if($caret&&!$caret.dataset.tweakNewTwitterListener){$caret.addEventListener("click",function(){quotedTweet=getQuotedTweetDetails($tweet,{getText:true})});$caret.dataset.tweakNewTwitterListener="true"}};_addAddMutedWordMenuItem=function _addAddMutedWordMenuI2(){_addAddMutedWordMenuItem=_asyncToGenerator(_regeneratorRuntime().mark(function _callee17($link,linkSelector){var $addMutedWord;return _regeneratorRuntime().wrap(function _callee17$(_context17){while(1)switch(_context17.prev=_context17.next){case 0:log("adding \"Add muted word\" menu item");$addMutedWord=$link.parentElement.cloneNode(true);$addMutedWord.classList.add("tnt_menu_item");$addMutedWord.querySelector("a").href=PagePaths.ADD_MUTED_WORD;$addMutedWord.querySelector("span").textContent=getString("ADD_MUTED_WORD");$addMutedWord.querySelector("svg").innerHTML=Svgs.MUTE;$addMutedWord.addEventListener("click",function(e){e.preventDefault();addMutedWord()});$link.parentElement.insertAdjacentElement("beforebegin",$addMutedWord);case 8:case"end":return _context17.stop()}},_callee17)}));return _addAddMutedWordMenuItem.apply(this,arguments)};addAddMutedWordMenuItem=function _addAddMutedWordMenuI(_x6,_x7){return _addAddMutedWordMenuItem.apply(this,arguments)};_observeIndividualTweetTimeline=function _observeIndividualTwe2(){_observeIndividualTweetTimeline=_asyncToGenerator(_regeneratorRuntime().mark(function _callee16(page){var $timeline,observeTimelineItems,startTime;return _regeneratorRuntime().wrap(function _callee16$(_context16){while(1)switch(_context16.prev=_context16.next){case 0:observeTimelineItems=function _observeTimelineItems2($timeline){pageObservers.push(observeElement($timeline,function(){return onIndividualTweetTimelineChange($timeline,{observers:pageObservers})},"individual tweet timeline"))};_context16.next=3;return getElement(Selectors.TIMELINE,{name:"initial individual tweet timeline",stopIf:pageIsNot(page)});case 3:$timeline=_context16.sent;if(!($timeline==null)){_context16.next=6;break}return _context16.abrupt("return");case 6:if($timeline.hasAttribute("style")){observeTimelineItems($timeline)}else{log("waiting for individual tweet timeline");startTime=Date.now();pageObservers.push(observeElement($timeline.parentElement,function(mutations){mutations.forEach(function(mutation){mutation.addedNodes.forEach(function($timeline){disconnectPageObserver("individual tweet timeline parent");if(Date.now()>startTime){log("individual tweet timeline appeared after ".concat(Date.now()-startTime,"ms"),$timeline)}observeTimelineItems($timeline)})})},"individual tweet timeline parent"))}case 7:case"end":return _context16.stop()}},_callee16)}));return _observeIndividualTweetTimeline.apply(this,arguments)};observeIndividualTweetTimeline=function _observeIndividualTwe(_x5){return _observeIndividualTweetTimeline.apply(this,arguments)};_observeTimeline=function _observeTimeline3(){_observeTimeline=_asyncToGenerator(_regeneratorRuntime().mark(function _callee15(page){var options,_options$isTabbed,isTabbed,_options$onTabChanged,onTabChanged,_options$onTimelineAp,onTimelineAppeared,_options$tabbedTimeli,tabbedTimelineContainerSelector,_options$timelineSele,timelineSelector,$timeline,observeTimelineItems,startTime,$tabbedTimelineContainer,waitingForNewTimeline,_args15=arguments;return _regeneratorRuntime().wrap(function _callee15$(_context15){while(1)switch(_context15.prev=_context15.next){case 0:observeTimelineItems=function _observeTimelineItems($timeline){disconnectPageObserver("timeline");pageObservers.push(observeElement($timeline,function(){return onTimelineChange($timeline,page,options)},"timeline"));onTimelineAppeared===null||onTimelineAppeared===void 0||onTimelineAppeared();if(isTabbed){disconnectPageObserver("timeline parent");pageObservers.push(observeElement($timeline.parentElement,function(mutations){mutations.forEach(function(mutation){mutation.addedNodes.forEach(function($newTimeline){disconnectPageObserver("timeline");log("tab changed");onTabChanged===null||onTabChanged===void 0||onTabChanged();pageObservers.push(observeElement($newTimeline,function(){return onTimelineChange($newTimeline,page,options)},"timeline"))})})},"timeline parent"))}};options=_args15.length>1&&_args15[1]!==undefined?_args15[1]:{};_options$isTabbed=options.isTabbed,isTabbed=_options$isTabbed===void 0?false:_options$isTabbed,_options$onTabChanged=options.onTabChanged,onTabChanged=_options$onTabChanged===void 0?null:_options$onTabChanged,_options$onTimelineAp=options.onTimelineAppeared,onTimelineAppeared=_options$onTimelineAp===void 0?null:_options$onTimelineAp,_options$tabbedTimeli=options.tabbedTimelineContainerSelector,tabbedTimelineContainerSelector=_options$tabbedTimeli===void 0?null:_options$tabbedTimeli,_options$timelineSele=options.timelineSelector,timelineSelector=_options$timelineSele===void 0?Selectors.TIMELINE:_options$timelineSele;_context15.next=5;return getElement(timelineSelector,{name:"initial timeline",stopIf:pageIsNot(page)});case 5:$timeline=_context15.sent;if(!($timeline==null)){_context15.next=8;break}return _context15.abrupt("return");case 8:if($timeline.hasAttribute("style")){observeTimelineItems($timeline)}else{log("waiting for timeline");startTime=Date.now();pageObservers.push(observeElement($timeline.parentElement,function(mutations){mutations.forEach(function(mutation){mutation.addedNodes.forEach(function($timeline){disconnectPageObserver("timeline parent");if(Date.now()>startTime){log("timeline appeared after ".concat(Date.now()-startTime,"ms"),$timeline)}observeTimelineItems($timeline)})})},"timeline parent"))}if(isTabbed&&tabbedTimelineContainerSelector){$tabbedTimelineContainer=document.querySelector(tabbedTimelineContainerSelector);if($tabbedTimelineContainer){waitingForNewTimeline=false;pageObservers.push(observeElement($tabbedTimelineContainer,function(){var _ref10=_asyncToGenerator(_regeneratorRuntime().mark(function _callee14(mutations){var $newTimeline;return _regeneratorRuntime().wrap(function _callee14$(_context14){while(1)switch(_context14.prev=_context14.next){case 0:if(!(!mutations.some(function(mutation){return mutation.addedNodes.length>0})||waitingForNewTimeline)){_context14.next=2;break}return _context14.abrupt("return");case 2:waitingForNewTimeline=true;_context14.next=5;return getElement(timelineSelector,{name:"new timeline",stopIf:pageIsNot(page)});case 5:$newTimeline=_context14.sent;waitingForNewTimeline=false;if($newTimeline){_context14.next=9;break}return _context14.abrupt("return");case 9:log("tab changed");onTabChanged===null||onTabChanged===void 0||onTabChanged();observeTimelineItems($newTimeline);case 12:case"end":return _context14.stop()}},_callee14)}));return function(_x18){return _ref10.apply(this,arguments)}}(),"tabbed timeline container"))}else{warn("tabbed timeline container not found",tabbedTimelineContainerSelector)}}case 10:case"end":return _context15.stop()}},_callee15)}));return _observeTimeline.apply(this,arguments)};observeTimeline=function _observeTimeline2(_x4){return _observeTimeline.apply(this,arguments)};_observeSearchForm=function _observeSearchForm3(){_observeSearchForm=_asyncToGenerator(_regeneratorRuntime().mark(function _callee13(){var $searchForm,$results;return _regeneratorRuntime().wrap(function _callee13$(_context13){while(1)switch(_context13.prev=_context13.next){case 0:_context13.next=2;return getElement("form[role=\"search\"]",{name:"search form",stopIf:pageIsNot(currentPage),timeout:2000});case 2:$searchForm=_context13.sent;if($searchForm){_context13.next=5;break}return _context13.abrupt("return");case 5:$results=$searchForm.lastElementChild;pageObservers.push(observeElement($results,function(){processBlueChecks($results)},"search results",{childList:true,subtree:true}));case 7:case"end":return _context13.stop()}},_callee13)}));return _observeSearchForm.apply(this,arguments)};observeSearchForm=function _observeSearchForm2(){return _observeSearchForm.apply(this,arguments)};_observeSidebar=function _observeSidebar3(){_observeSidebar=_asyncToGenerator(_regeneratorRuntime().mark(function _callee12(){var $primaryColumn,$sidebarContainer;return _regeneratorRuntime().wrap(function _callee12$(_context12){while(1)switch(_context12.prev=_context12.next){case 0:_context12.next=2;return getElement(Selectors.PRIMARY_COLUMN,{name:"primary column"});case 2:$primaryColumn=_context12.sent;$sidebarContainer=$primaryColumn.parentElement;pageObservers.push(observeElement($sidebarContainer,function(){var $sidebar=$sidebarContainer.querySelector(Selectors.SIDEBAR);log("sidebar ".concat($sidebar?"appeared":"disappeared"));$body.classList.toggle("Sidebar",Boolean($sidebar));if($sidebar&&config.twitterBlueChecks!="ignore"&&!isOnSearchPage()&&!isOnExplorePage()){observeSearchForm()}},"sidebar container"));case 5:case"end":return _context12.stop()}},_callee12)}));return _observeSidebar.apply(this,arguments)};observeSidebar=function _observeSidebar2(){return _observeSidebar.apply(this,arguments)};_observeTitle=function _observeTitle3(){_observeTitle=_asyncToGenerator(_regeneratorRuntime().mark(function _callee11(){var $title;return _regeneratorRuntime().wrap(function _callee11$(_context11){while(1)switch(_context11.prev=_context11.next){case 0:_context11.next=2;return getElement("title",{name:"<title>"});case 2:$title=_context11.sent;observeElement($title,function(){var title=$title.textContent;if(config.replaceLogo&&(ltr?/X$/:/^(?:\(\d+\+?\) )?X/).test(title)){var newTitle=title.replace(ltr?/X$/:"X",getString("TWITTER"));document.title=newTitle;if(!currentPage){onTitleChange(newTitle)}return}if(observingPageChanges){onTitleChange(title)}},"<title>");case 4:case"end":return _context11.stop()}},_callee11)}));return _observeTitle.apply(this,arguments)};observeTitle=function _observeTitle2(){return _observeTitle.apply(this,arguments)};_observeDesktopModalTimeline=function _observeDesktopModalT2(){_observeDesktopModalTimeline=_asyncToGenerator(_regeneratorRuntime().mark(function _callee10($popup){var $initialTimeline,observeModalTimelineItems,observeModalTimeline,$expandedContainer;return _regeneratorRuntime().wrap(function _callee10$(_context10){while(1)switch(_context10.prev=_context10.next){case 0:observeModalTimeline=function _observeModalTimeline2($timeline){if($timeline.hasAttribute("style")){observeModalTimelineItems($timeline)}else{log("waiting for modal timeline");var startTime=Date.now();modalObservers.push(observeElement($timeline.parentElement,function(mutations){mutations.forEach(function(mutation){mutation.addedNodes.forEach(function($timeline){disconnectModalObserver("modal timeline parent");if(Date.now()>startTime){log("modal timeline appeared after ".concat(Date.now()-startTime,"ms"),$timeline)}observeModalTimelineItems($timeline)})})},"modal timeline parent"))}};observeModalTimelineItems=function _observeModalTimeline($timeline){disconnectModalObserver("modal timeline");modalObservers.push(observeElement($timeline,function(){return onIndividualTweetTimelineChange($timeline,{observers:modalObservers})},"modal timeline"));setDefaultSortReplies();disconnectModalObserver("modal timeline parent");modalObservers.push(observeElement($timeline.parentElement,function(mutations){mutations.forEach(function(mutation){mutation.addedNodes.forEach(function($newTimeline){log("modal timeline replaced");disconnectModalObserver("modal timeline");modalObservers.push(observeElement($newTimeline,function(){return onIndividualTweetTimelineChange($newTimeline,{observers:modalObservers})},"modal timeline"));setDefaultSortReplies()})})},"modal timeline parent"))};_context10.next=4;return getElement(Selectors.MODAL_TIMELINE,{context:$popup,name:"initial modal timeline",stopIf:function stopIf(){return!isDesktopMediaModalOpen}});case 4:$initialTimeline=_context10.sent;if(!($initialTimeline==null)){_context10.next=7;break}return _context10.abrupt("return");case 7:$expandedContainer=$initialTimeline.closest("[aria-expanded=\"true\"]");modalObservers.push(observeElement($expandedContainer.parentElement,function(){var _ref9=_asyncToGenerator(_regeneratorRuntime().mark(function _callee9(mutations){var $timeline;return _regeneratorRuntime().wrap(function _callee9$(_context9){while(1)switch(_context9.prev=_context9.next){case 0:if(!mutations.some(function(mutation){return mutation.removedNodes.length>0})){_context9.next=6;break}log("modal timeline collapsed");disconnectModalObserver("modal timeline parent");disconnectModalObserver("modal timeline");_context9.next=14;break;case 6:if(!mutations.some(function(mutation){return mutation.addedNodes.length>0})){_context9.next=14;break}log("modal timeline expanded");_context9.next=10;return getElement(Selectors.MODAL_TIMELINE,{context:$popup,name:"expanded modal timeline",stopIf:function stopIf(){return!isDesktopMediaModalOpen}});case 10:$timeline=_context9.sent;if(!($timeline==null)){_context9.next=13;break}return _context9.abrupt("return");case 13:observeModalTimeline($timeline);case 14:case"end":return _context9.stop()}},_callee9)}));return function(_x17){return _ref9.apply(this,arguments)}}(),"collapsible modal timeline container"));observeModalTimeline($initialTimeline);case 10:case"end":return _context10.stop()}},_callee10)}));return _observeDesktopModalTimeline.apply(this,arguments)};observeDesktopModalTimeline=function _observeDesktopModalT(_x3){return _observeDesktopModalTimeline.apply(this,arguments)};_observeDesktopComposeTweetModal=function _observeDesktopCompos2(){_observeDesktopComposeTweetModal=_asyncToGenerator(_regeneratorRuntime().mark(function _callee8($popup){var $modalDialog,tweetButtonObserver,disconnectTweetButtonObserver,waitingForTweetButton;return _regeneratorRuntime().wrap(function _callee8$(_context8){while(1)switch(_context8.prev=_context8.next){case 0:disconnectTweetButtonObserver=function _disconnectTweetButto(){if(tweetButtonObserver){log("disconnecting tweet button dialog observer");tweetButtonObserver.disconnect();modalObservers.splice(modalObservers.indexOf(tweetButtonObserver),1);tweetButtonObserver=null}};_context8.next=3;return getElement("div[role=\"dialog\"][aria-labelledby]",{context:$popup,stopIf:function stopIf(){return!isDesktopComposeTweetModalOpen}});case 3:$modalDialog=_context8.sent;if($modalDialog){_context8.next=6;break}return _context8.abrupt("return");case 6:waitingForTweetButton=false;modalObservers.push(observeElement($modalDialog,_asyncToGenerator(_regeneratorRuntime().mark(function _callee7(){var $tweetButtonText;return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:if(!waitingForTweetButton){_context7.next=2;break}return _context7.abrupt("return");case 2:waitingForTweetButton=true;_context7.next=5;return getElement("button[data-testid=\"tweetButton\"] span > span",{context:$modalDialog,name:"tweet button",timeout:500});case 5:$tweetButtonText=_context7.sent;waitingForTweetButton=false;if($tweetButtonText){_context7.next=10;break}disconnectTweetButtonObserver();return _context7.abrupt("return");case 10:setTweetButtonText($tweetButtonText);tweetButtonObserver=observeElement($modalDialog,function(mutations){var _iterator12=_createForOfIteratorHelper(mutations),_step12;try{for(_iterator12.s();!(_step12=_iterator12.n()).done;){var mutation=_step12.value;var _iterator13=_createForOfIteratorHelper(mutation.addedNodes),_step13;try{for(_iterator13.s();!(_step13=_iterator13.n()).done;){var _$addedNode$querySele2;var $addedNode=_step13.value;var _$tweetButtonText=(_$addedNode$querySele2=$addedNode.querySelector)===null||_$addedNode$querySele2===void 0?void 0:_$addedNode$querySele2.call($addedNode,"button[data-testid=\"tweetButton\"] span > span");if(_$tweetButtonText){setTweetButtonText(_$tweetButtonText)}}}catch(err){_iterator13.e(err)}finally{_iterator13.f()}}}catch(err){_iterator12.e(err)}finally{_iterator12.f()}},"tweet button dialog",{childList:true,subtree:true});modalObservers.push(tweetButtonObserver);case 13:case"end":return _context7.stop()}},_callee7)})),"compose tweet modal dialog"));case 8:case"end":return _context8.stop()}},_callee8)}));return _observeDesktopComposeTweetModal.apply(this,arguments)};observeDesktopComposeTweetModal=function _observeDesktopCompos(_x2){return _observeDesktopComposeTweetModal.apply(this,arguments)};observeBodyBackgroundColor=function _observeBodyBackgroun(){var lastBackgroundColor=null;observeElement($body,function(){var backgroundColor=$body.style.backgroundColor;if(backgroundColor==lastBackgroundColor)return;$body.classList.toggle("Default",backgroundColor=="rgb(255, 255, 255)");$body.classList.toggle("Dim",backgroundColor=="rgb(21, 32, 43)");$body.classList.toggle("LightsOut",backgroundColor=="rgb(0, 0, 0)");if(lastBackgroundColor!=null){log("Background setting changed - re-processing current page");observePopups();observeSideNavTweetButton();processCurrentPage()}lastBackgroundColor=backgroundColor},"<body> style attribute for background colour changes",{attributes:true,attributeFilter:["style"]})};storeConfigChanges=function _storeConfigChanges(changes){window.postMessage({type:"tntConfigChange",changes:changes})};setTweetButtonText=function _setTweetButtonText($tweetButtonText){var currentText=$tweetButtonText.textContent;if(currentText==getString("TWEET")||currentText==getString("TWEET_ALL"))return;$tweetButtonText.textContent=currentText==getString("POST_ALL")?getString("TWEET_ALL"):getString("TWEET")};s=function _s(n){return n==1?"":"s"};pathIsNot=function _pathIsNot(path){return function(){return path!=currentPath}};pageIsNot=function _pageIsNot(page){return function(){var pageChanged=page!=currentPage;if(pageChanged){log("pageIsNot",{page:page,currentPage:currentPage})}return pageChanged}};observeElement=function _observeElement($element,callback,name){var options=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{childList:true};if(name){if(options.childList&&callback.length>0){log("observing ".concat(name),$element)}else{log("observing ".concat(name))}}var observer=new MutationObserver(callback);callback([],observer);observer.observe($element,options);observer["name"]=name;return observer};not=function _not(condition){return function(){return!condition()}};error=function _error(){for(var _len3=arguments.length,args=new Array(_len3),_key3=0;_key3<_len3;_key3++){args[_key3]=arguments[_key3]}};warn=function _warn(){if(debug){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2]}}};log=function _log(){if(debug||true){var _currentPage;var page=(_currentPage=currentPage)===null||_currentPage===void 0?void 0:_currentPage.replace(/(\r?\n)+/g," ");for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}}};isObserving=function _isObserving(observers,name){return observers.some(function(observer){return"name"in observer&&observer.name==name})};getUserInfo=function _getUserInfo(){var _getStateEntities2;var userInfo={};var userEntities=(_getStateEntities2=getStateEntities())===null||_getStateEntities2===void 0||(_getStateEntities2=_getStateEntities2.users)===null||_getStateEntities2===void 0?void 0:_getStateEntities2.entities;if(userEntities){for(var _i=0,_Object$values=Object.values(userEntities);_i<_Object$values.length;_i++){var user=_Object$values[_i];userInfo[user.screen_name]={following:user.following,followedBy:user.followed_by,followersCount:user.followers_count}}}else{warn("user entities not found")}return userInfo};getTweetInfo=function _getTweetInfo(id){var _getStateEntities;var tweetEntities=(_getStateEntities=getStateEntities())===null||_getStateEntities===void 0||(_getStateEntities=_getStateEntities.tweets)===null||_getStateEntities===void 0?void 0:_getStateEntities.entities;if(tweetEntities){var tweetInfo=tweetEntities[id];if(!tweetInfo){warn("tweet info not found")}return tweetInfo}else{warn("tweet entities not found")}};getThemeColorFromState=function _getThemeColorFromSta(){var _getState;var color=(_getState=getState())===null||_getState===void 0||(_getState=_getState.settings)===null||_getState===void 0||(_getState=_getState.local)===null||_getState===void 0?void 0:_getState.themeColor;if(color){if(THEME_COLORS.has(color))return THEME_COLORS.get(color);warn(color,"not found in THEME_COLORS")}else{warn("could not get settings.local.themeColor from React state")}};getStateEntities=function _getStateEntities3(){var state=getState();if(state){if(state.entities)return state.entities;warn("React state entities not found")}};getState=function _getState2(){var wrapped=$reactRoot.firstElementChild.wrappedJSObject||$reactRoot.firstElementChild;var reactPropsKey=Object.keys(wrapped).find(function(key){return key.startsWith("__reactProps")});if(reactPropsKey){var _wrapped$reactPropsKe;var state=(_wrapped$reactPropsKe=wrapped[reactPropsKey].children)===null||_wrapped$reactPropsKe===void 0||(_wrapped$reactPropsKe=_wrapped$reactPropsKe.props)===null||_wrapped$reactPropsKe===void 0||(_wrapped$reactPropsKe=_wrapped$reactPropsKe.children)===null||_wrapped$reactPropsKe===void 0||(_wrapped$reactPropsKe=_wrapped$reactPropsKe.props)===null||_wrapped$reactPropsKe===void 0||(_wrapped$reactPropsKe=_wrapped$reactPropsKe.store)===null||_wrapped$reactPropsKe===void 0?void 0:_wrapped$reactPropsKe.getState();if(state)return state;warn("React state not found")}else{warn("React prop key not found")}};getElement=function _getElement(selector){var _ref2=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},_ref2$name=_ref2.name,name=_ref2$name===void 0?null:_ref2$name,_ref2$stopIf=_ref2.stopIf,stopIf=_ref2$stopIf===void 0?null:_ref2$stopIf,_ref2$timeout=_ref2.timeout,timeout=_ref2$timeout===void 0?Infinity:_ref2$timeout,_ref2$context=_ref2.context,context=_ref2$context===void 0?document:_ref2$context;return new Promise(function(resolve){var startTime=Date.now();var rafId;var timeoutId;function stop($element,reason){if($element==null){warn("stopped waiting for ".concat(name||selector," after ").concat(reason))}else if(Date.now()>startTime){log("".concat(name||selector," appeared after ").concat(Date.now()-startTime,"ms"))}if(rafId){cancelAnimationFrame(rafId)}if(timeoutId){clearTimeout(timeoutId)}resolve($element)}if(timeout!==Infinity){timeoutId=setTimeout(stop,timeout,null,"".concat(timeout,"ms timeout"))}function queryElement(){var $element=context.querySelector(selector);if($element){stop($element)}else if((stopIf===null||stopIf===void 0?void 0:stopIf())===true){stop(null,"stopIf condition met")}else{rafId=requestAnimationFrame(queryElement)}}queryElement()})};findAddedNode=function _findAddedNode(mutations,fn){var _iterator=_createForOfIteratorHelper(mutations),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var mutation=_step.value;var _iterator2=_createForOfIteratorHelper(mutation.addedNodes),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var el=_step2.value;var result=fn(el);if(result){return result===true?el:result}}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}}catch(err){_iterator.e(err)}finally{_iterator.f()}return null};disconnectPageObserver=function _disconnectPageObserv(name){disconnectObserver(name,pageObservers)};disconnectAllModalObservers=function _disconnectAllModalOb(){if(modalObservers.length>0){log("disconnecting ".concat(modalObservers.length," modal observer").concat(s(modalObservers.length)),modalObservers.map(function(observer){return observer["name"]}));modalObservers.forEach(function(observer){return observer.disconnect()});modalObservers=[]}};disconnectModalObserver=function _disconnectModalObser(name){disconnectObserver(name,modalObservers)};disconnectObserver=function _disconnectObserver(name,observers){for(var i=observers.length-1;i>=0;i--){var observer=observers[i];if("name"in observer&&observer.name==name){observer.disconnect();observers.splice(i,1);log("disconnected ".concat(name," ").concat(observers===pageObservers?"page":"modal"," observer"))}}};dedent=function _dedent(str){str=str.replace(/^[ \t]*\r?\n/,"");var indent=/^[ \t]+/m.exec(str);if(indent)str=str.replace(new RegExp("^"+indent[0],"gm"),"");return str.replace(/(\r?\n)[ \t]+$/,"$1")};homeIcon=function _homeIcon($svgPath){var replacementPath=_defineProperty(_defineProperty({},Svgs.X_HOME_ACTIVE_PATH,Svgs.TWITTER_HOME_ACTIVE_PATH),Svgs.X_HOME_INACTIVE_PATH,Svgs.TWITTER_HOME_INACTIVE_PATH)[$svgPath.getAttribute("d")];if(replacementPath){$svgPath.setAttribute("d",replacementPath)}};twitterLogo=function _twitterLogo($svgPath){$svgPath.setAttribute("d",Svgs.TWITTER_LOGO_PATH);$svgPath.parentElement.classList.add("tnt_logo")};blueCheck=function _blueCheck($svg){if(!$svg){warn("blueCheck was given",$svg);return}$svg.classList.add("tnt_blue_check");if(isSafari&&config.twitterBlueChecks=="replace"){$svg.firstElementChild.firstElementChild.setAttribute("d",Svgs.BLUE_LOGO_PATH)}};addStyle=function _addStyle(role){var $style=document.createElement("style");$style.dataset.insertedBy="control-panel-for-twitter";$style.dataset.role=role;document.head.appendChild($style);return $style};shouldShowSeparatedTweetsTab=function _shouldShowSeparatedT(){return config.retweets=="separate"||config.quoteTweets=="separate"};shouldHideSidebar=function _shouldHideSidebar(){return isOnExplorePage()||isOnDiscoverCommunitiesPage()};isOnSettingsPage=function _isOnSettingsPage(){return currentPath.startsWith("/settings")};isOnSeparatedTweetsTimeline=function _isOnSeparatedTweetsT(){return currentPage==separatedTweetsTimelineTitle};isOnSearchPage=function _isOnSearchPage(){return currentPath.startsWith("/search")||currentPath.startsWith("/hashtag/")};isOnQuoteTweetsPage=function _isOnQuoteTweetsPage(){var match=currentPath.match(URL_TWEET_ENGAGEMENT_RE);return(match===null||match===void 0?void 0:match[1])=="quotes"};isOnProfilePage=function _isOnProfilePage(){var _currentPath$match;var profilePathUsername=(_currentPath$match=currentPath.match(URL_PROFILE_RE))===null||_currentPath$match===void 0?void 0:_currentPath$match[1];if(!profilePathUsername)return false;return currentPage.toLowerCase().includes("".concat(ltr?"@":"").concat(profilePathUsername.toLowerCase()).concat(!ltr?"@":""))};isOnNotificationsPage=function _isOnNotificationsPag(){return currentPath.startsWith("/notifications")};isOnMessagesPage=function _isOnMessagesPage(){return currentPath.startsWith("/messages")};isOnHomeTimelinePage=function _isOnHomeTimelinePage(){return currentPath==PagePaths.HOME};isOnListPage=function _isOnListPage(){return URL_LIST_RE.test(currentPath)};isOnIndividualTweetPage=function _isOnIndividualTweetP(){return URL_TWEET_RE.test(currentPath)};isOnFollowListPage=function _isOnFollowListPage(){return URL_PROFILE_FOLLOWS_RE.test(currentPath)};isOnExplorePage=function _isOnExplorePage(){return currentPath=="/explore"||currentPath.startsWith("/explore/")};isOnDisplaySettingsPage=function _isOnDisplaySettingsP(){return currentPath==PagePaths.DISPLAY_SETTINGS};isOnDiscoverCommunitiesPage=function _isOnDiscoverCommunit(){return URL_DISCOVER_COMMUNITIES_RE.test(currentPath)};isOnCommunityMembersPage=function _isOnCommunityMembers(){return URL_COMMUNITY_MEMBERS_RE.test(currentPath)};isOnCommunityPage=function _isOnCommunityPage(){return URL_COMMUNITY_RE.test(currentPath)};isOnCommunitiesPage=function _isOnCommunitiesPage(){return URL_COMMUNITIES_RE.test(currentPath)};isOnBookmarksPage=function _isOnBookmarksPage(){return currentPath.startsWith(PagePaths.BOOKMARKS)};getString=function _getString(code){return(locales[lang]||locales["en"])[code]||locales["en"][code]};_context36.next=140;return sleep(500);case 140:document.body.style.backgroundColor="blue";debug=true;desktop=false;mobile=true;isSafari=navigator.userAgent.includes("Safari/")&&!/Chrom(e|ium)\//.test(navigator.userAgent);config={debug:true,addAddMutedWordMenuItem:true,alwaysUseLatestTweets:true,defaultToLatestSearch:false,disableHomeTimeline:false,disabledHomeTimelineRedirect:"notifications",disableTweetTextFormatting:false,dontUseChirpFont:false,dropdownMenuFontWeight:true,fastBlock:true,followButtonStyle:"monochrome",hideAdsNav:true,hideBlueReplyFollowedBy:false,hideBlueReplyFollowing:false,hideBookmarkButton:false,hideBookmarkMetrics:true,hideBookmarksNav:false,hideCommunitiesNav:true,hideExplorePageContents:true,hideFollowingMetrics:true,hideForYouTimeline:true,hideGrokNav:true,hideInlinePrompts:true,hideJobsNav:true,hideLikeMetrics:true,hideListsNav:false,hideMetrics:false,hideMonetizationNav:true,hideMoreTweets:true,hideProfileRetweets:false,hideQuoteTweetMetrics:true,hideQuotesFrom:[],hideReplyMetrics:true,hideRetweetMetrics:true,hideSeeNewTweets:false,hideShareTweetButton:false,hideSubscriptions:true,hideTimelineTweetBox:false,hideTotalTweetsMetrics:true,hideTweetAnalyticsLinks:false,hideTwitterBlueReplies:false,hideTwitterBlueUpsells:true,hideUnavailableQuoteTweets:true,hideVerifiedNotificationsTab:true,hideViews:true,hideWhoToFollowEtc:true,listRetweets:"ignore",mutableQuoteTweets:true,mutedQuotes:[],quoteTweets:"ignore",reducedInteractionMode:false,restoreLinkHeadlines:true,replaceLogo:true,restoreOtherInteractionLinks:false,restoreQuoteTweetsLink:true,retweets:"hide",showBlueReplyFollowersCountAmount:"1000000",showBlueReplyFollowersCount:false,showBlueReplyVerifiedAccounts:false,showBookmarkButtonUnderFocusedTweets:true,sortReplies:"relevant",tweakQuoteTweetsPage:true,twitterBlueChecks:"replace",unblurSensitiveContent:false,uninvertFollowButtons:true,hideAccountSwitcher:false,hideExploreNav:true,hideExploreNavWithSidebar:true,hideMessagesDrawer:true,hideProNav:true,hideSidebarContent:true,hideSpacesNav:false,navBaseFontSize:true,navDensity:"default",showRelevantPeople:false,hideMessagesBottomNavItem:false};locales={"ar-x-fm":{ADD_MUTED_WORD:"\u0627\u0636\u0627\u0641\u0629 \u0643\u0644\u0645\u0629 \u0645\u0643\u062A\u0648\u0645\u0629",HOME:"\u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0651\u0629",LIKES:"\u0627\u0644\u0625\u0639\u062C\u0627\u0628\u0627\u062A",MOST_RELEVANT:"\u0627\u0644\u0623\u0643\u062B\u0631 \u0645\u0644\u0627\u0626\u0645\u0629",MUTE_THIS_CONVERSATION:"\u0643\u062A\u0645 \u0647\u0630\u0647 \u0627\u0644\u0645\u062D\u0627\u062F\u062B\u0647",POST_ALL:"\u0646\u0634\u0631 \u0627\u0644\u0643\u0644",POST_UNAVAILABLE:"\u0647\u0630\u0627 \u0627\u0644\u0645\u0646\u0634\u0648\u0631 \u063A\u064A\u0631 \u0645\u062A\u0627\u062D.",QUOTE_TWEET:"\u0627\u0642\u062A\u0628\u0627\u0633 \u0627\u0644\u062A\u063A\u0631\u064A\u062F\u0629",QUOTE_TWEETS:"\u062A\u063A\u0631\u064A\u062F\u0627\u062A \u0627\u0642\u062A\u0628\u0627\u0633",REPOST:"\u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0646\u0634\u0631",REPOSTS:"\u0627\u0644\u0645\u0646\u0634\u0648\u0631\u0627\u062A \u0627\u0644\u0645\u064F\u0639\u0627\u062F \u0646\u0634\u0631\u0647\u0627",RETWEET:"\u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u062A\u063A\u0631\u064A\u062F",RETWEETED_BY:"\u0645\u064F\u0639\u0627\u062F \u062A\u063A\u0631\u064A\u062F\u0647\u0627 \u0628\u0648\u0627\u0633\u0637\u0629",RETWEETS:"\u0625\u0639\u0627\u062F\u0627\u062A \u0627\u0644\u062A\u063A\u0631\u064A\u062F",SHARED:"\u0645\u0634\u062A\u0631\u0643",SHARED_TWEETS:"\u0627\u0644\u062A\u063A\u0631\u064A\u062F\u0627\u062A \u0627\u0644\u0645\u0634\u062A\u0631\u0643\u0629",SHOW:"\u0625\u0638\u0647\u0627\u0631",SHOW_MORE_REPLIES:"\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u064A\u062F \u0645\u0646 \u0627\u0644\u0631\u062F\u0648\u062F",SORT_REPLIES:"\u0641\u0631\u0632 \u0627\u0644\u0631\u062F\u0648\u062F",TURN_OFF_QUOTE_TWEETS:"\u062A\u0639\u0637\u064A\u0644 \u062A\u063A\u0631\u064A\u062F\u0627\u062A \u0627\u0642\u062A\u0628\u0627\u0633",TURN_OFF_RETWEETS:"\u062A\u0639\u0637\u064A\u0644 \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u062A\u063A\u0631\u064A\u062F",TURN_ON_RETWEETS:"\u062A\u0641\u0639\u064A\u0644 \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u062A\u063A\u0631\u064A\u062F",TWEET:"\u063A\u0631\u0651\u062F\u064A",TWEETS:"\u0627\u0644\u062A\u063A\u0631\u064A\u062F\u0627\u062A",TWEET_ALL:"\u062A\u063A\u0631\u064A\u062F \u0627\u0644\u0643\u0644",TWEET_INTERACTIONS:"\u062A\u0641\u0627\u0639\u0644\u0627\u062A \u0627\u0644\u062A\u063A\u0631\u064A\u062F\u0629",TWEET_YOUR_REPLY:"\u0627\u0644\u062A\u063A\u0631\u064A\u062F \u0628\u0631\u062F\u0643!",TWITTER:"\u062A\u0648\u064A\u062A\u0631",UNDO_RETWEET:"\u0627\u0644\u062A\u0631\u0627\u062C\u0639 \u0639\u0646 \u0627\u0644\u062A\u063A\u0631\u064A\u062F\u0629",VIEW:"\u0639\u0631\u0636"},en:{ADD_MUTED_WORD:"Add muted word",HOME:"Home",LIKES:"Likes",MOST_RELEVANT:"Most relevant",MUTE_THIS_CONVERSATION:"Mute this conversation",POST_ALL:"Post all",POST_UNAVAILABLE:"This post is unavailable.",QUOTE:"Quote",QUOTES:"Quotes",QUOTE_TWEET:"Quote Tweet",QUOTE_TWEETS:"Quote Tweets",REPOST:"Repost",REPOSTS:"Reposts",RETWEET:"Retweet",RETWEETED_BY:"Retweeted by",RETWEETS:"Retweets",SHARED:"Shared",SHARED_TWEETS:"Shared Tweets",SHOW:"Show",SHOW_MORE_REPLIES:"Show more replies",SORT_REPLIES:"Sort replies",TURN_OFF_QUOTE_TWEETS:"Turn off Quote Tweets",TURN_OFF_RETWEETS:"Turn off Retweets",TURN_ON_RETWEETS:"Turn on Retweets",TWEET:"Tweet",TWEETS:"Tweets",TWEET_ALL:"Tweet all",TWEET_INTERACTIONS:"Tweet interactions",TWEET_YOUR_REPLY:"Tweet your reply!",TWITTER:"Twitter",UNDO_RETWEET:"Undo Retweet",VIEW:"View"},"zh-Hant":{ADD_MUTED_WORD:"\u52A0\u5165\u975C\u97F3\u6587\u5B57",HOME:"\u9996\u9801",LIKES:"\u559C\u6B61\u7684\u5167\u5BB9",MOST_RELEVANT:"\u6700\u76F8\u95DC",MUTE_THIS_CONVERSATION:"\u5C07\u6B64\u5C0D\u8A71\u975C\u97F3",POST_ALL:"\u5168\u90E8\u767C\u4F48",POST_UNAVAILABLE:"\u6B64\u8CBC\u6587\u7121\u6CD5\u67E5\u770B\u3002",QUOTE:"\u5F15\u7528",QUOTES:"\u5F15\u7528",QUOTE_TWEET:"\u5F15\u7528\u63A8\u6587",QUOTE_TWEETS:"\u5F15\u7528\u7684\u63A8\u6587",REPOST:"\u8F49\u767C",REPOSTS:"\u8F49\u767C",RETWEET:"\u8F49\u63A8",RETWEETED_BY:"\u5DF2\u88AB\u8F49\u63A8",RETWEETS:"\u8F49\u63A8",SHARED:"\u5171\u4EAB",SHARED_TWEETS:"\u5206\u4EAB\u7684\u63A8\u6587",SHOW:"\u986F\u793A",SHOW_MORE_REPLIES:"\u986F\u793A\u66F4\u591A\u56DE\u8986",SORT_REPLIES:"\u5C07\u56DE\u8986\u6392\u5E8F",TURN_OFF_QUOTE_TWEETS:"\u95DC\u9589\u5F15\u7528\u7684\u63A8\u6587",TURN_OFF_RETWEETS:"\u95DC\u9589\u8F49\u63A8",TURN_ON_RETWEETS:"\u958B\u555F\u8F49\u63A8",TWEET:"\u63A8\u6587",TWEETS:"\u63A8\u6587",TWEET_ALL:"\u63A8\u5168\u90E8\u5167\u5BB9",TWEET_INTERACTIONS:"\u63A8\u6587\u4E92\u52D5",TWEET_YOUR_REPLY:"\u63A8\u4F60\u7684\u56DE\u8986\uFF01",UNDO_RETWEET:"\u53D6\u6D88\u8F49\u63A8",VIEW:"\u67E5\u770B"},zh:{ADD_MUTED_WORD:"\u6DFB\u52A0\u8981\u9690\u85CF\u7684\u5B57\u8BCD",HOME:"\u4E3B\u9875",LIKES:"\u559C\u6B22",MOST_RELEVANT:"\u6700\u76F8\u5173",MUTE_THIS_CONVERSATION:"\u9690\u85CF\u6B64\u5BF9\u8BDD",POST_ALL:"\u5168\u90E8\u53D1\u5E16",POST_UNAVAILABLE:"\u8FD9\u4E2A\u5E16\u5B50\u4E0D\u53EF\u7528\u3002",QUOTE:"\u5F15\u7528",QUOTES:"\u5F15\u7528",QUOTE_TWEET:"\u5F15\u7528\u63A8\u6587",QUOTE_TWEETS:"\u5F15\u7528\u63A8\u6587",REPOST:"\u8F6C\u5E16",REPOSTS:"\u8F6C\u5E16",RETWEET:"\u8F6C\u63A8",RETWEETED_BY:"\u8F6C\u63A8\u8005",RETWEETS:"\u8F6C\u63A8",SHARED:"\u5171\u4EAB",SHARED_TWEETS:"\u5206\u4EAB\u7684\u63A8\u6587",SHOW:"\u663E\u793A",SHOW_MORE_REPLIES:"\u663E\u793A\u66F4\u591A\u56DE\u590D",SORT_REPLIES:"\u5BF9\u56DE\u590D\u6392\u5E8F",TURN_OFF_QUOTE_TWEETS:"\u5173\u95ED\u5F15\u7528\u63A8\u6587",TURN_OFF_RETWEETS:"\u5173\u95ED\u8F6C\u63A8",TURN_ON_RETWEETS:"\u5F00\u542F\u8F6C\u63A8",TWEET:"\u63A8\u6587",TWEETS:"\u63A8\u6587",TWEET_ALL:"\u5168\u90E8\u53D1\u63A8",TWEET_INTERACTIONS:"\u63A8\u6587\u4E92\u52A8",TWEET_YOUR_REPLY:"\u53D1\u5E03\u4F60\u7684\u56DE\u590D\uFF01",UNDO_RETWEET:"\u64A4\u9500\u8F6C\u63A8",VIEW:"\u67E5\u770B"}};PagePaths={ADD_MUTED_WORD:"/settings/add_muted_keyword",BOOKMARKS:"/i/bookmarks",COMPOSE_MESSAGE:"/messages/compose",COMPOSE_TWEET:"/compose/post",CONNECT:"/i/connect",DISPLAY_SETTINGS:"/settings/display",HOME:"/home",NOTIFICATION_TIMELINE:"/i/timeline",PROFILE_SETTINGS:"/settings/profile",SEARCH:"/search",TIMELINE_SETTINGS:"/home/pinned/edit"};Selectors={BLOCK_MENU_ITEM:"[data-testid=\"block\"]",DESKTOP_TIMELINE_HEADER:"div[data-testid=\"primaryColumn\"] > div > div:first-of-type",DISPLAY_DONE_BUTTON_DESKTOP:"#layers button[role=\"button\"]:not([aria-label])",DISPLAY_DONE_BUTTON_MOBILE:"main button[role=\"button\"]:not([aria-label])",MESSAGES_DRAWER:"div[data-testid=\"DMDrawer\"]",MODAL_TIMELINE:"section > h1 + div[aria-label] > div",MOBILE_TIMELINE_HEADER:"div[data-testid=\"TopNavBar\"]",NAV_HOME_LINK:"a[data-testid=\"AppTabBar_Home_Link\"]",PRIMARY_COLUMN:"div[data-testid=\"primaryColumn\"]",PRIMARY_NAV_DESKTOP:"header nav",PRIMARY_NAV_MOBILE:"#layers nav",PROMOTED_TWEET_CONTAINER:"[data-testid=\"placementTracking\"]",SIDEBAR:"div[data-testid=\"sidebarColumn\"]",SIDEBAR_WRAPPERS:"div[data-testid=\"sidebarColumn\"] > div > div > div > div > div",SORT_REPLIES_PATH:"svg path[d=\"M14 6V3h2v8h-2V8H3V6h11zm7 2h-3.5V6H21v2zM8 16v-3h2v8H8v-3H3v-2h5zm13 2h-9.5v-2H21v2z\"]",TIMELINE:"div[data-testid=\"primaryColumn\"] section > h1 + div[aria-label] > div",TIMELINE_HEADING:"h2[role=\"heading\"]",TWEET:"[data-testid=\"tweet\"]",VERIFIED_TICK:"svg[data-testid=\"icon-verified\"]",X_LOGO_PATH:"svg path[d=\"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z\"]"};Svgs={BLUE_LOGO_PATH:"M16.5 3H2v18h15c3.038 0 5.5-2.46 5.5-5.5 0-1.4-.524-2.68-1.385-3.65-.08-.09-.089-.22-.023-.32.574-.87.908-1.91.908-3.03C22 5.46 19.538 3 16.5 3zm-.796 5.99c.457-.05.892-.17 1.296-.35-.302.45-.684.84-1.125 1.15.004.1.006.19.006.29 0 2.94-2.269 6.32-6.421 6.32-1.274 0-2.46-.37-3.459-1 .177.02.357.03.539.03 1.057 0 2.03-.35 2.803-.95-.988-.02-1.821-.66-2.109-1.54.138.03.28.04.425.04.206 0 .405-.03.595-.08-1.033-.2-1.811-1.1-1.811-2.18v-.03c.305.17.652.27 1.023.28-.606-.4-1.004-1.08-1.004-1.85 0-.4.111-.78.305-1.11 1.113 1.34 2.775 2.22 4.652 2.32-.038-.17-.058-.33-.058-.51 0-1.23 1.01-2.22 2.256-2.22.649 0 1.235.27 1.647.7.514-.1.997-.28 1.433-.54-.168.52-.526.96-.992 1.23z",MUTE:"<g><path d=\"M18 6.59V1.2L8.71 7H5.5C4.12 7 3 8.12 3 9.5v5C3 15.88 4.12 17 5.5 17h2.09l-2.3 2.29 1.42 1.42 15.5-15.5-1.42-1.42L18 6.59zm-8 8V8.55l6-3.75v3.79l-6 6zM5 9.5c0-.28.22-.5.5-.5H8v6H5.5c-.28 0-.5-.22-.5-.5v-5zm6.5 9.24l1.45-1.45L16 19.2V14l2 .02v8.78l-6.5-4.06z\"></path></g>",RETWEET:"<g><path d=\"M4.5 3.88l4.432 4.14-1.364 1.46L5.5 7.55V16c0 1.1.896 2 2 2H13v2H7.5c-2.209 0-4-1.79-4-4V7.55L1.432 9.48.068 8.02 4.5 3.88zM16.5 6H11V4h5.5c2.209 0 4 1.79 4 4v8.45l2.068-1.93 1.364 1.46-4.432 4.14-4.432-4.14 1.364-1.46 2.068 1.93V8c0-1.1-.896-2-2-2z\"></path></g>",RETWEETS_OFF:"<g><path d=\"M3.707 21.707l18-18-1.414-1.414-2.088 2.088C17.688 4.137 17.11 4 16.5 4H11v2h5.5c.028 0 .056 0 .084.002l-10.88 10.88c-.131-.266-.204-.565-.204-.882V7.551l2.068 1.93 1.365-1.462L4.5 3.882.068 8.019l1.365 1.462 2.068-1.93V16c0 .871.278 1.677.751 2.334l-1.959 1.959 1.414 1.414zM18.5 9h2v7.449l2.068-1.93 1.365 1.462-4.433 4.137-4.432-4.137 1.365-1.462 2.067 1.93V9zm-8.964 9l-2 2H13v-2H9.536z\"></path></g>",TWITTER_HOME_ACTIVE_PATH:"M12 1.696L.622 8.807l1.06 1.696L3 9.679V19.5C3 20.881 4.119 22 5.5 22h13c1.381 0 2.5-1.119 2.5-2.5V9.679l1.318.824 1.06-1.696L12 1.696zM12 16.5c-1.933 0-3.5-1.567-3.5-3.5s1.567-3.5 3.5-3.5 3.5 1.567 3.5 3.5-1.567 3.5-3.5 3.5z",TWITTER_HOME_INACTIVE_PATH:"M12 9c-2.209 0-4 1.791-4 4s1.791 4 4 4 4-1.791 4-4-1.791-4-4-4zm0 6c-1.105 0-2-.895-2-2s.895-2 2-2 2 .895 2 2-.895 2-2 2zm0-13.304L.622 8.807l1.06 1.696L3 9.679V19.5C3 20.881 4.119 22 5.5 22h13c1.381 0 2.5-1.119 2.5-2.5V9.679l1.318.824 1.06-1.696L12 1.696zM19 19.5c0 .276-.224.5-.5.5h-13c-.276 0-.5-.224-.5-.5V8.429l7-4.375 7 4.375V19.5z",TWITTER_LOGO_PATH:"M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572 0-4.658 2.086-4.658 4.66 0 .364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342 0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3 0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376 0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57 0 13.255-7.098 13.255-13.254 0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z",X_HOME_ACTIVE_PATH:"M21.591 7.146L12.52 1.157c-.316-.21-.724-.21-1.04 0l-9.071 5.99c-.26.173-.409.456-.409.757v13.183c0 .502.418.913.929.913H9.14c.51 0 .929-.41.929-.913v-7.075h3.909v7.075c0 .502.417.913.928.913h6.165c.511 0 .929-.41.929-.913V7.904c0-.301-.158-.584-.408-.758z",X_HOME_INACTIVE_PATH:"M21.591 7.146L12.52 1.157c-.316-.21-.724-.21-1.04 0l-9.071 5.99c-.26.173-.409.456-.409.757v13.183c0 .502.418.913.929.913h6.638c.511 0 .929-.41.929-.913v-7.075h3.008v7.075c0 .502.418.913.929.913h6.639c.51 0 .928-.41.928-.913V7.904c0-.301-.158-.584-.408-.758zM20 20l-4.5.01.011-7.097c0-.502-.418-.913-.928-.913H9.44c-.511 0-.929.41-.929.913L8.5 20H4V8.773l8.011-5.342L20 8.764z"};Images={TWITTER_FAVICON:"data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAA0pJREFUWAntVk1oE1EQnnlJbFK3KUq9VJPYWgQVD/5QD0qpfweL1YJQoZAULBRPggp6kB78PQn14kHx0jRB0UO9REVFb1YqVBEsbZW2SbVS0B6apEnbbMbZ6qbZdTempqCHPAjvzcw3P5mdmfcAiquYgX+cAVwu/+5AdDMQnSPCHUhQA0hf+Rxy2OjicIvzm+qnKhito0qpb2wvJhWeJgCPP7oPELeHvdJ1VSGf3eOPnSWga0S0Qo9HxEkEusDBuNjbEca8G291nlBxmgDc/ukuIvAJxI6wr+yKCsq1ewLxQ2lZfpQLo8oQ4ZXdCkfnACrGWpyDCl+oQmVn5xuVPU102e2P3qoJkFOhzVb9S7KSnL5jJs/mI+As01PJFPSlZeFSZZoAGBRXBZyq9lk5NrC+e7pJ5en30c+JWk59pZ5vRDOuhAD381c/H/FKz1SMNgCE16rg505r5TT0uLqme93d0fbq+1SeLSeU83Ke0RHYFPGVPcjQfNDUwIa7M665+dQAEEjZoMwZMcEF9RxIDAgBQ2mCcqJ0Z0b+h4MNbZ4RnyOSDbNmE2iRk5jCNgIIckFoZAs4IgfLGrlKGjkzS16iwj6pV9I4mUvCPf73JVytH9nRJj24QHrqU8NCIWrMaGqAC+Ut/3ZzAS63cx4v2K/x/IvQBOCwWzu5KmJGwEJ5PIgeG9nQBDDcXPpFoDjJ7ThvBC6EZxXWkJG+JgAFwGM4KBAOcibeGCn8FQ/hyajXPmSk+1sACogn4hYk7OdiHDFSWipPkPWSmY6mCzIghEEuxJvcEYUvxIdhX2mvmSHDDPBF9AJRnDZTyp+P40671JYLbxiAohDxSTfQIg4oNxgPzCWPHaWQBViOf2jGqVwBaEaxGbAqOFMrp+SefC8eNhoFIY5lXzpmtnMGUB2IbU3JdIqVW9m5zcxINn/hAYKiIexdaTh4srHKORMAP0b28PNgJyGt5gvHzQVYx91QpVcwpRFl/p63HSR1DLbid1OcTpAJQOG7u+KH+aI5Qwj13IsamU5vkUSIc8uGLDa8OtoivV8U5HcydFLtT7hlSDVy2nfxI2Ibg9awuVU8IeJAOMF5m2B6jFs1tM5R9rS3GRP5uSuiihn4DzPwA7z7GDH+43gqAAAAAElFTkSuQmCC",TWITTER_PIP_FAVICON:"data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALASURBVHgB7VZNchJBFP5eM9FoRWV2WiZmbmBuIJ4g5ASBRWJlRXIC4ASQVUqxCo4QTwDegJzAiYlFXM1YZWmVQD9fQ6YyAwMMGBZW8i2G6e7He1+/3wHuOih4+fWieJhiKsirA0ZbE44fXZUaWDIGBH4/L+UUUB897DMfPf5ermKJUOaRIhTiDlNEBSwZlnkwY2vCuYOEWD/xMrCoKC41utISRlcc3Or2dfnqwHbDcj9X0fbztn9DAHxOoM0xrZILSIBXtR9F0VGKbJIhz7kVi3Lr770yAz4p2iYm188/awVi6lo4Ns4mETEDLz94uTHjIxDDRaWoohhOSjwi/9mKEFjtlKsayAuRM7M2HmFJwCRVIIqLSAAJjS822v0Vaip1E1oKC6XrXtrExjnxnJ6ldoVKFj0+ujywW3FKTTzJoibmAXP+Yt9uBEsrfLbWRelJzS/0B8z4WoKa6zW/1dd83Hlnn0Z0peAQkqNHvNPZi+qIELBWUNU97LLJ4hDESMZSlNmo+b5UTEvC85m0JCipTQREE+BhdzypIwSkLvyn4LKYrEzQkSZCloiyw+xJbnygfxX+VAJrPWnBoC9ixBXdDm4XflD7YajIinFq3L0E45J7fBa3HyEg7mhgeWjPJODu223J/iMsATzhcmp04+ueXTW1OsiD2zIuVfNNLockBAyIkdaaPxHGs3YR0JTQWnGbWkFCQZX5imwCmBoX++nGpONYD1zu2S0a9IN/g3jSNcNnqsy0ww2ZdPJzCKLXWAAy1N6ay2BRAgEcGZ+aqDnaoqdbjw6dhQgYwz1S2xKOQyQ0Phy7vDPr5iH5ITY+elmtpddLFyQzZBTP3xGl3FJ95NzQJ1hiAgMSw5jnJOZvMA/EMBNKSW89kUAAp+45+g+yojRjljL9NoP4GxdLYzk334vy3lYP0HBjhsw97vHf4C/b8RLHAOr+CQAAAABJRU5ErkJggg=="};THEME_BLUE="rgb(29, 155, 240)";THEME_COLORS=new Map([["blue500",THEME_BLUE],["yellow500","rgb(255, 212, 0)"],["magenta500","rgb(249, 24, 128)"],["purple500","rgb(120, 86, 255)"],["orange500","rgb(255, 122, 0)"],["green500","rgb(0, 186, 124)"]]);FULL_WIDTH_BODY_PSEUDO=":is(.Community, .List, .HomeTimeline)";TITLE_NOTIFICATION_RE=/^\(\d+\+?\) /;URL_COMMUNITIES_RE=/^\/[a-zA-Z\d_]{1,20}\/communities\/?$/;URL_COMMUNITY_RE=/^\/i\/communities\/\d+(?:\/about)?\/?$/;URL_COMMUNITY_MEMBERS_RE=/^\/i\/communities\/\d+\/(?:members|moderators)\/?$/;URL_DISCOVER_COMMUNITIES_RE=/^\/i\/communities\/suggested\/?/;URL_LIST_RE=/\/i\/lists\/\d+\/?$/;URL_MEDIA_RE=/\/(?:photo|video)\/\d\/?$/;URL_MEDIAVIEWER_RE=/^\/[a-zA-Z\d_]{1,20}\/status\/\d+\/mediaviewer$/i;URL_PROFILE_RE=/^\/([a-zA-Z\d_]{1,20})(?:\/(affiliates|with_replies|superfollows|highlights|articles|media|likes))?\/?$/;URL_PROFILE_FOLLOWS_RE=/^\/[a-zA-Z\d_]{1,20}\/(?:verified_followers|follow(?:ing|ers|ers_you_follow)|creator-subscriptions\/subscriptions)\/?$/;URL_TWEET_RE=/^\/([a-zA-Z\d_]{1,20})\/status\/(\d+)\/?$/;URL_TWEET_ENGAGEMENT_RE=/^\/[a-zA-Z\d_]{1,20}\/status\/\d+\/(quotes|retweets|reposts|likes)\/?$/;TWITTER_MEDIA_ASSIST_BUTTON_SELECTOR=".tva-download-icon, .tva-modal-download-icon";quotedTweet=null;blockMenuItemSeen=false;changingSortReplies=false;currentNotificationCount="";currentPage="";currentPath="";filterBlurRule=null;fontFamilyRule=null;fontSize=null;homeNavigationIsBeingUsed=false;isDesktopMediaModalOpen=false;isDesktopComposeTweetModalOpen=false;lastHomeTimelineTitle=null;modalObservers=[];observingPageChanges=false;pageObservers=[];pinMenuItemSeen=false;selectedHomeTabIndex=-1;separatedTweetsTimelineTitle=null;themeColor=THEME_BLUE;tweetInteractionsTab=null;wasForYouTabSelected=false;setTimeout(function(){window.postMessage({type:"log",data:"test"})},2000);checkReactNativeStylesheet=function(){var startTime;return function checkReactNativeStylesheet(){var _startTime;(_startTime=startTime)!==null&&_startTime!==void 0?_startTime:startTime=Date.now();var $style=document.querySelector("style#react-native-stylesheet");if(!$style){warn("React Native stylesheet not found");return}var _iterator3=_createForOfIteratorHelper($style.sheet.cssRules),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _rule$style$fontFamil,_rule$style$filter;var rule=_step3.value;if(!(rule instanceof CSSStyleRule))continue;if(fontFamilyRule==null&&(_rule$style$fontFamil=rule.style.fontFamily)!==null&&_rule$style$fontFamil!==void 0&&_rule$style$fontFamil.includes("TwitterChirp")&&!rule.style.fontFamily.includes("TwitterChirpExtendedHeavy")){fontFamilyRule=rule;log("found Chirp fontFamily CSS rule in React Native stylesheet");configureFont()}if(filterBlurRule==null&&(_rule$style$filter=rule.style.filter)!==null&&_rule$style$filter!==void 0&&_rule$style$filter.includes("blur(30px)")){filterBlurRule=rule;log("found filter: blur(30px) rule in React Native stylesheet",filterBlurRule);configureDynamicCss()}}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}var elapsedTime=Date.now()-startTime;if(fontFamilyRule==null||filterBlurRule==null){if(elapsedTime<3000){setTimeout(checkReactNativeStylesheet,100)}else{warn("stopped checking React Native stylesheet after ".concat(elapsedTime,"ms"))}}else{log("finished checking React Native stylesheet in ".concat(elapsedTime,"ms"))}}}();observeFavicon=function(){var $shortcutIcon;var shortcutIconObserver;function observeFavicon(){return _observeFavicon.apply(this,arguments)}function _observeFavicon(){_observeFavicon=_asyncToGenerator(_regeneratorRuntime().mark(function _callee(){var _$shortcutIcon;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!((_$shortcutIcon=$shortcutIcon)!==null&&_$shortcutIcon!==void 0)){_context.next=4;break}_$shortcutIcon;_context.next=7;break;case 4:_context.next=6;return getElement("link[rel=\"shortcut icon\"]",{name:"shortcut icon"});case 6:$shortcutIcon=_context.sent;case 7:if(config.replaceLogo){_context.next=10;break}if(shortcutIconObserver!=null){shortcutIconObserver.disconnect();shortcutIconObserver=null;if($shortcutIcon.getAttribute("href").startsWith("data:")){$shortcutIcon.setAttribute("href","//abs.twimg.com/favicons/twitter".concat(currentNotificationCount?"-pip":"",".3.ico"))}}return _context.abrupt("return");case 10:shortcutIconObserver=observeElement($shortcutIcon,function(){var href=$shortcutIcon.getAttribute("href");if(href.startsWith("data:"))return;$shortcutIcon.setAttribute("href",href.includes("pip")?Images.TWITTER_PIP_FAVICON:Images.TWITTER_FAVICON)},"shortcut icon href",{attributes:true,attributeFilter:["href"]});case 11:case"end":return _context.stop()}},_callee)}));return _observeFavicon.apply(this,arguments)}observeFavicon.updatePip=function(showPip){if(!$shortcutIcon)return;var icon=showPip?Images.TWITTER_PIP_FAVICON:Images.TWITTER_FAVICON;if($shortcutIcon.getAttribute("href")!=icon){$shortcutIcon.setAttribute("href",icon)}};return observeFavicon}();observePopups=function(){var popupObserver;var nestedObservers=new WeakMap;return function(){var _observePopups=_asyncToGenerator(_regeneratorRuntime().mark(function _callee2(){var $layers;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(popupObserver){popupObserver.disconnect();popupObserver=null}_context2.next=3;return getElement("#layers",{name:"layers"});case 3:$layers=_context2.sent;if(popupObserver){popupObserver.disconnect()}popupObserver=observeElement($layers,function(mutations){mutations.forEach(function(mutation){mutation.addedNodes.forEach(function($el){var nestedObserver=onPopup($el);if(nestedObserver){nestedObservers.set($el,nestedObserver)}});mutation.removedNodes.forEach(function($el){if(nestedObservers.has($el)){nestedObservers.get($el).disconnect();nestedObservers.delete($el)}})})},"popup container");case 6:case"end":return _context2.stop()}},_callee2)}));function observePopups(){return _observePopups.apply(this,arguments)}return observePopups}()}();observeSideNavTweetButton=function(){var observer;return function(){var _observeSideNavTweetButton=_asyncToGenerator(_regeneratorRuntime().mark(function _callee3(){var $buttonTextContainer;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:if(observer){observer.disconnect();observer=null}return _context3.abrupt("return");case 4:$buttonTextContainer=_context3.sent;observer=observeElement($buttonTextContainer,function(){if($buttonTextContainer.childElementCount>0){var $buttonText=$buttonTextContainer.querySelector("span > span");if($buttonText){setTweetButtonText($buttonText)}else{warn("could not find tweet button text")}}},"sidenav tweet button");case 6:case"end":return _context3.stop()}},_callee3)}));function observeSideNavTweetButton(){return _observeSideNavTweetButton.apply(this,arguments)}return observeSideNavTweetButton}()}();configureCss=function(){var $style;return function configureCss(){var _$style;(_$style=$style)!==null&&_$style!==void 0?_$style:$style=addStyle("features");var cssRules=["\n        .tnt_font_family {\n          font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif;\n        }\n      "];var hideCssSelectors=[];var menuRole="[role=\"".concat(desktop?"menu":"dialog","\"]");cssRules.push("\n        body.Default {\n          --border-color: rgb(239, 243, 244);\n          --color: rgb(83, 100, 113);\n          --color-emphasis: rgb(15, 20, 25);\n          --hover-bg-color: rgb(247, 249, 249);\n        }\n        body.Dim {\n          --border-color: rgb(56, 68, 77);\n          --color: rgb(139, 152, 165);\n          --color-emphasis: rgb(247, 249, 249);\n          --hover-bg-color: rgb(30, 39, 50);\n        }\n        body.LightsOut {\n          --border-color: rgb(47, 51, 54);\n          --color: rgb(113, 118, 123);\n          --color-emphasis: rgb(247, 249, 249);\n          --hover-bg-color: rgb(22, 24, 28);\n        }\n        .tnt_menu_item:hover { background-color: var(--hover-bg-color) !important; }\n      ");if(config.alwaysUseLatestTweets&&config.hideForYouTimeline){cssRules.push("\n          /* Prevent the For you tab container taking up space */\n          body.HomeTimeline ".concat(mobile?Selectors.MOBILE_TIMELINE_HEADER:Selectors.PRIMARY_COLUMN," nav div[role=\"tablist\"] > div:first-child {\n            flex-grow: 0;\n            flex-shrink: 1;\n          }\n          /* Hide the For you tab link */\n          body.HomeTimeline ").concat(mobile?Selectors.MOBILE_TIMELINE_HEADER:Selectors.PRIMARY_COLUMN," nav div[role=\"tablist\"] > div:first-child > a {\n            display: none;\n          }\n        "))}if(config.disableTweetTextFormatting){cssRules.push("\n          div[data-testid=\"tweetText\"] span {\n            font-style: normal;\n            font-weight: normal;\n          }\n        ")}if(config.dropdownMenuFontWeight){cssRules.push("\n          [data-testid=\"".concat(desktop?"Dropdown":"sheetDialog","\"] [role=\"menuitem\"] [dir] {\n            font-weight: normal;\n          }\n        "))}if(config.hideBookmarkButton){hideCssSelectors.push("body:not(.Bookmarks) [data-testid=\"tweet\"][tabindex=\"0\"] [role=\"group\"]:not(.buffer-inserted) > div:nth-of-type(5):not(.yeah-button-container)","body:not(.Bookmarks) [data-testid=\"tweet\"][tabindex=\"0\"] [role=\"group\"].buffer-inserted > div:nth-of-type(6):not(.yeah-button-container)","body:not(.Bookmarks) [data-testid=\"tweet\"][tabindex=\"0\"] [role=\"group\"] > .yeah-button-container + div");if(!config.showBookmarkButtonUnderFocusedTweets){hideCssSelectors.push("[data-testid=\"tweet\"][tabindex=\"-1\"] [role=\"group\"][id^=\"id__\"]:not(.buffer-inserted) > div:nth-child(4)","[data-testid=\"tweet\"][tabindex=\"-1\"] [role=\"group\"][id^=\"id__\"].buffer-inserted > div:nth-child(5)")}}if(config.hideListsNav){hideCssSelectors.push("".concat(menuRole," a[href$=\"/lists\"]"))}if(config.hideBookmarksNav){hideCssSelectors.push("".concat(menuRole," a[href$=\"/bookmarks\"]"))}if(config.hideCommunitiesNav){hideCssSelectors.push("".concat(menuRole," a[href$=\"/communities\"]"))}if(config.hideShareTweetButton){hideCssSelectors.push("[data-testid=\"tweet\"][tabindex=\"0\"] [role=\"group\"] > div[style]:not(".concat(TWITTER_MEDIA_ASSIST_BUTTON_SELECTOR,")"),"[data-testid=\"tweet\"][tabindex=\"-1\"] [role=\"group\"] > div[style]:not(".concat(TWITTER_MEDIA_ASSIST_BUTTON_SELECTOR,")"))}if(config.hideSubscriptions){hideCssSelectors.push("body.Profile [role=\"button\"][style*=\"border-color: rgb(201, 54, 204)\"]","body.Profile a[href$=\"/creator-subscriptions/subscriptions\"]","body.Profile .SubsTab","[data-testid=\"tweet\"][tabindex=\"-1\"] [data-testid$=\"-subscribe\"]","[data-testid=\"Dropdown\"] > [data-testid=\"subscribe\"]","[data-testid=\"sheetDialog\"] > [data-testid=\"subscribe\"]","[data-testid=\"tweet\"] [data-testid=\"icon-subscriber\"]","body.Settings a[href=\"/settings/monetization\"]","body.Settings a[href=\"/settings/manage_subscriptions\"]","body.ProfileFollows.Subscriptions ".concat(mobile?Selectors.MOBILE_TIMELINE_HEADER:Selectors.PRIMARY_COLUMN," nav div[role=\"tablist\"] > div:last-child > a"));cssRules.push("\n          body.ProfileFollows.Subscriptions ".concat(mobile?Selectors.MOBILE_TIMELINE_HEADER:Selectors.PRIMARY_COLUMN," nav div[role=\"tablist\"] > div:last-child {\n            flex: 0;\n          }\n        "))}if(config.hideMetrics){configureHideMetricsCss(cssRules,hideCssSelectors)}if(config.hideCommunitiesNav){hideCssSelectors.push("".concat(menuRole," a[href$=\"/communities\"]"))}if(config.hideGrokNav){hideCssSelectors.push("".concat(menuRole," a[href$=\"/i/grok\"]"))}if(config.hideMonetizationNav){hideCssSelectors.push("".concat(menuRole," a[href$=\"/i/monetization\"]"))}if(config.hideAdsNav){hideCssSelectors.push("".concat(menuRole," a:is([href*=\"ads.twitter.com\"], [href*=\"ads.x.com\"])"))}if(config.hideJobsNav){hideCssSelectors.push("".concat(menuRole," a[href=\"/jobs\"]"),".Profile [data-testid=\"jobs\"]")}if(config.hideTweetAnalyticsLinks){hideCssSelectors.push("a[data-testid=\"analyticsButton\"]")}if(config.hideTwitterBlueUpsells){hideCssSelectors.push("".concat(menuRole," a:is([href^=\"/i/premium\"], [href^=\"/i/verified\"])"),"".concat(menuRole," a[href=\"/i/account_analytics\"]"),"[role=\"menuitem\"][data-testid=\"highlightUpsell\"]","[role=\"menuitem\"][data-testid=\"editWithTwitterBlue\"]","body.Settings a[href^=\"/i/premium\"]",".PinModal [data-testid=\"sheetDialog\"] > div > div:last-child > div > div > div:first-child",".PinModal [data-testid=\"sheetDialog\"] [role=\"button\"]:first-child:nth-last-child(3)",".Profile [data-testid=\"analytics-preview\"]");var profileTabsList="body.OwnProfile:not(.PremiumProfile) ".concat(Selectors.PRIMARY_COLUMN," nav div[role=\"tablist\"]");var upsellTabLinks="a:is([href$=\"/highlights\"], [href$=\"/articles\"])";cssRules.push("\n          @supports selector(:has(*)) {\n            ".concat(profileTabsList," > div:has(> ").concat(upsellTabLinks,") {\n              flex: 0;\n            }\n            ").concat(profileTabsList," > div > ").concat(upsellTabLinks," {\n              display: none;\n            }\n            .OwnProfile [data-testid=\"UserName\"] > div:has(> div > a[href^=\"/i/premium\"]) {\n              display: none;\n            }\n          }\n        "));cssRules.push("\n          @supports selector(:has(*)) {\n            body.OwnProfile ".concat(Selectors.PRIMARY_COLUMN," nav + div:has(a[href^=\"/i/premium\"]) {\n              display: none;\n            }\n          }\n        "));cssRules.push("\n          .PinModal [data-testid=\"sheetDialog\"] > div > div:last-child > div > div {\n            width: 100%;\n            margin-top: 0;\n            padding-left: 32px;\n            padding-right: 32px;\n          }\n        ")}if(config.hideVerifiedNotificationsTab){cssRules.push("\n          body.Notifications ".concat(mobile?Selectors.MOBILE_TIMELINE_HEADER:Selectors.PRIMARY_COLUMN," nav div[role=\"tablist\"] > div:nth-child(2),\n          body.ProfileFollows ").concat(mobile?Selectors.MOBILE_TIMELINE_HEADER:Selectors.PRIMARY_COLUMN," nav div[role=\"tablist\"] > div:nth-child(1) {\n            flex: 0;\n          }\n          body.Notifications ").concat(mobile?Selectors.MOBILE_TIMELINE_HEADER:Selectors.PRIMARY_COLUMN," nav div[role=\"tablist\"] > div:nth-child(2) > a,\n          body.ProfileFollows ").concat(mobile?Selectors.MOBILE_TIMELINE_HEADER:Selectors.PRIMARY_COLUMN," nav div[role=\"tablist\"] > div:nth-child(1) > a {\n            display: none;\n          }\n        "))}if(config.hideViews){hideCssSelectors.push("[data-testid=\"tweet\"][tabindex=\"-1\"] div[dir] + div[aria-hidden=\"true\"]:nth-child(2):nth-last-child(2)","[data-testid=\"tweet\"][tabindex=\"-1\"] div[dir] + div[aria-hidden=\"true\"]:nth-child(2):nth-last-child(2) + div[dir]:last-child")}if(config.hideWhoToFollowEtc){hideCssSelectors.push("body.Profile ".concat(Selectors.PRIMARY_COLUMN," aside[role=\"complementary\"]"))}if(config.reducedInteractionMode){hideCssSelectors.push("[data-testid=\"tweet\"] [role=\"group\"]","body.Tweet [data-testid=\"tweet\"] + div > div [role=\"group\"]")}if(config.restoreLinkHeadlines){hideCssSelectors.push(".tnt_overlay_headline","div[data-testid=\"card.wrapper\"] + a")}else{hideCssSelectors.push(".tnt_link_headline")}if(config.restoreQuoteTweetsLink||config.restoreOtherInteractionLinks){cssRules.push("\n          #tntInteractionLinks a {\n            text-decoration: none;\n            color: var(--color);\n          }\n          #tntInteractionLinks a:hover span:last-child {\n            text-decoration: underline;\n          }\n          #tntQuoteTweetCount {\n            margin-right: 2px;\n            font-weight: 700;\n            color: var(--color-emphasis);\n          }\n          /* Replaces the \"View post engagements\" link under your own tweets */\n          a[data-testid=\"analyticsButton\"] {\n            display: none;\n          }\n        ")}else{hideCssSelectors.push("#tntInteractionLinks")}if(!config.restoreQuoteTweetsLink){hideCssSelectors.push("#tntQuoteTweetsLink")}if(!config.restoreOtherInteractionLinks){hideCssSelectors.push("#tntRetweetsLink","#tntLikesLink")}if(config.tweakQuoteTweetsPage){hideCssSelectors.push("body.QuoteTweets [data-testid=\"tweet\"] [aria-labelledby] > div:last-child")}if(config.twitterBlueChecks=="hide"){hideCssSelectors.push(".tnt_blue_check")}if(config.twitterBlueChecks=="replace"){cssRules.push("\n          :is(".concat(Selectors.VERIFIED_TICK,", svg[data-testid=\"verificationBadge\"]).tnt_blue_check path {\n            d: path(\"").concat(Svgs.BLUE_LOGO_PATH,"\");\n          }\n        "))}if(shouldShowSeparatedTweetsTab()){cssRules.push("\n          body.Default {\n            --tab-hover: rgba(15, 20, 25, 0.1);\n          }\n          body.Dim {\n            --tab-hover: rgba(247, 249, 249, 0.1);\n          }\n          body.LightsOut {\n            --tab-hover: rgba(231, 233, 234, 0.1);\n          }\n  \n          /* Tabbed timeline */\n          body.Desktop #tnt_separated_tweets_tab:hover,\n          body.Mobile:not(.SeparatedTweets) #tnt_separated_tweets_tab:hover,\n          body.Mobile #tnt_separated_tweets_tab:active {\n            background-color: var(--tab-hover);\n          }\n          body:not(.SeparatedTweets) #tnt_separated_tweets_tab > a > div > div,\n          body.HomeTimeline.SeparatedTweets ".concat(mobile?Selectors.MOBILE_TIMELINE_HEADER:Selectors.PRIMARY_COLUMN," nav div[role=\"tablist\"] > div:not(#tnt_separated_tweets_tab) > a > div > div {\n            font-weight: normal !important;\n            color: var(--color) !important;\n          }\n          body.SeparatedTweets #tnt_separated_tweets_tab > a > div > div {\n            font-weight: bold;\n            color: var(--color-emphasis); !important;\n          }\n          body:not(.SeparatedTweets) #tnt_separated_tweets_tab > a > div > div > div,\n          body.HomeTimeline.SeparatedTweets ").concat(mobile?Selectors.MOBILE_TIMELINE_HEADER:Selectors.PRIMARY_COLUMN," nav div[role=\"tablist\"] > div:not(#tnt_separated_tweets_tab) > a > div > div > div {\n            height: 0 !important;\n          }\n          body.SeparatedTweets #tnt_separated_tweets_tab > a > div > div > div {\n            height: 4px !important;\n            min-width: 56px;\n            width: 100%;\n            position: absolute;\n            bottom: 0;\n            border-radius: 9999px;\n          }\n        "))}if(config.disableHomeTimeline){hideCssSelectors.push("".concat(Selectors.PRIMARY_NAV_MOBILE," a[href=\"/home\"]"))}if(config.hideSeeNewTweets){hideCssSelectors.push("body.HomeTimeline ".concat(Selectors.MOBILE_TIMELINE_HEADER," ~ div[style^=\"transform\"]:last-child"))}if(config.hideExplorePageContents){hideCssSelectors.push("body.Explore ".concat(Selectors.MOBILE_TIMELINE_HEADER," > div > div:nth-of-type(2)"),"body.Explore ".concat(Selectors.TIMELINE))}if(config.hideGrokNav){hideCssSelectors.push("".concat(Selectors.PRIMARY_NAV_MOBILE," a[href=\"/i/grok\"]"))}if(config.hideCommunitiesNav){hideCssSelectors.push("".concat(Selectors.PRIMARY_NAV_MOBILE," a[href$=\"/communities\"]"))}if(config.hideMessagesBottomNavItem){hideCssSelectors.push("".concat(Selectors.PRIMARY_NAV_MOBILE," a[href=\"/messages\"]"))}if(config.hideJobsNav){hideCssSelectors.push("".concat(Selectors.PRIMARY_NAV_MOBILE," a[href=\"/jobs\"]"))}if(config.hideTwitterBlueUpsells){hideCssSelectors.push("".concat(Selectors.PRIMARY_NAV_MOBILE," a[href^=\"/i/premium\"]"),"".concat(Selectors.MOBILE_TIMELINE_HEADER," a[href^=\"/i/premium\"]"))}if(config.hideShareTweetButton){hideCssSelectors.push("body.MobileMedia [role=\"group\"] > div[style]:not(".concat(TWITTER_MEDIA_ASSIST_BUTTON_SELECTOR,")"))}if(config.hideViews){hideCssSelectors.push("[data-testid=\"tweet\"][tabindex=\"0\"] [role=\"group\"]:not(.buffer-inserted) > div:nth-child(4):nth-last-child(2)","[data-testid=\"tweet\"][tabindex=\"0\"] [role=\"group\"].buffer-inserted > div:nth-child(5):nth-last-child(2)","[data-testid=\"tweet\"][tabindex=\"0\"] [role=\"group\"]:not(.buffer-inserted) > div:nth-child(4):nth-last-child(3)","[data-testid=\"tweet\"][tabindex=\"0\"] [role=\"group\"].buffer-inserted > div:nth-child(5):nth-last-child(3)","body.MobileMedia [role=\"group\"] > div:nth-child(4)")}if(hideCssSelectors.length>0){cssRules.push("\n          ".concat(hideCssSelectors.join(",\n")," {\n            display: none !important;\n          }\n        "))}$style.textContent=cssRules.map(dedent).join("\n")}}();configureDynamicCss=function(){var $style;return function configureDynamicCss(){var _$style2;(_$style2=$style)!==null&&_$style2!==void 0?_$style2:$style=addStyle("dynamic");var cssRules=[];if(fontSize!=null&&config.navBaseFontSize){cssRules.push("\n          ".concat(Selectors.PRIMARY_NAV_DESKTOP," div[dir] span { font-size: ").concat(fontSize,"; font-weight: normal; }\n          ").concat(Selectors.PRIMARY_NAV_DESKTOP," div[dir] { margin-top: -4px; }\n        "))}if(filterBlurRule!=null&&config.unblurSensitiveContent){cssRules.push("\n          ".concat(filterBlurRule.selectorText," {\n            filter: none !important;\n          }\n          ").concat(filterBlurRule.selectorText," + div {\n            display: none !important;\n          }\n        "))}$style.textContent=cssRules.map(dedent).join("\n")}}();configureThemeCss=function(){var $style;return function configureThemeCss(){var _$style3;(_$style3=$style)!==null&&_$style3!==void 0?_$style3:$style=addStyle("theme");var cssRules=[];if(debug){var _fontFamilyRule;cssRules.push("\n          [data-item-type]::after {\n            position: absolute;\n            top: 0;\n            ".concat(ltr?"right":"left",": 50px;\n            content: attr(data-item-type);\n            font-family: ").concat(((_fontFamilyRule=fontFamilyRule)===null||_fontFamilyRule===void 0?void 0:_fontFamilyRule.style.fontFamily)||"-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial",";\n            background-color: rgb(242, 29, 29);\n            color: white;\n            font-size: 11px;\n            font-weight: bold;\n            padding: 4px 6px;\n            border-bottom-left-radius: 1em;\n            border-bottom-right-radius: 1em;\n          }\n        "))}if(themeColor!=null&&shouldShowSeparatedTweetsTab()){cssRules.push("\n          body.SeparatedTweets #tnt_separated_tweets_tab > a > div > div > div {\n            background-color: ".concat(themeColor," !important;\n          }\n        "))}if(config.replaceLogo){cssRules.push("\n          ".concat(Selectors.X_LOGO_PATH," {\n            fill: ").concat(THEME_BLUE,";\n            d: path(\"").concat(Svgs.TWITTER_LOGO_PATH,"\");\n          }\n          .tnt_logo {\n            fill: ").concat(THEME_BLUE,";\n          }\n          svg path[d=\"").concat(Svgs.X_HOME_ACTIVE_PATH,"\"] {\n            d: path(\"").concat(Svgs.TWITTER_HOME_ACTIVE_PATH,"\");\n          }\n          svg path[d=\"").concat(Svgs.X_HOME_INACTIVE_PATH,"\"] {\n            d: path(\"").concat(Svgs.TWITTER_HOME_INACTIVE_PATH,"\");\n          }\n        "))}if(config.uninvertFollowButtons){cssRules.push("\n          [role=\"button\"][data-testid$=\"-unfollow\"]:not(:hover) {\n            border-color: rgba(0, 0, 0, 0) !important;\n          }\n          [role=\"button\"][data-testid$=\"-follow\"] {\n            background-color: rgba(0, 0, 0, 0) !important;\n          }\n        ");if(config.followButtonStyle=="monochrome"||themeColor==null){cssRules.push("\n            /* Following button */\n            body.Default [role=\"button\"][data-testid$=\"-unfollow\"]:not(:hover) {\n              background-color: rgb(15, 20, 25) !important;\n            }\n            body.Default [role=\"button\"][data-testid$=\"-unfollow\"]:not(:hover) > :is(div, span) {\n              color: rgb(255, 255, 255) !important;\n            }\n            body:is(.Dim, .LightsOut) [role=\"button\"][data-testid$=\"-unfollow\"]:not(:hover) {\n              background-color: rgb(255, 255, 255) !important;\n            }\n            body:is(.Dim, .LightsOut) [role=\"button\"][data-testid$=\"-unfollow\"]:not(:hover) > :is(div, span) {\n              color: rgb(15, 20, 25) !important;\n            }\n            /* Follow button */\n            body.Default [role=\"button\"][data-testid$=\"-follow\"] {\n              border-color: rgb(207, 217, 222) !important;\n            }\n            body:is(.Dim, .LightsOut) [role=\"button\"][data-testid$=\"-follow\"] {\n              border-color: rgb(83, 100, 113) !important;\n            }\n            body.Default [role=\"button\"][data-testid$=\"-follow\"] > :is(div, span) {\n              color: rgb(15, 20, 25) !important;\n            }\n            body:is(.Dim, .LightsOut) [role=\"button\"][data-testid$=\"-follow\"] > :is(div, span) {\n              color: rgb(255, 255, 255) !important;\n            }\n            body.Default [role=\"button\"][data-testid$=\"-follow\"]:hover {\n              background-color: rgba(15, 20, 25, 0.1) !important;\n            }\n            body:is(.Dim, .LightsOut) [role=\"button\"][data-testid$=\"-follow\"]:hover {\n              background-color: rgba(255, 255, 255, 0.1) !important;\n            }\n          ")}if(config.followButtonStyle=="themed"&&themeColor!=null){cssRules.push("\n            /* Following button */\n            [role=\"button\"][data-testid$=\"-unfollow\"]:not(:hover) {\n              background-color: ".concat(themeColor," !important;\n            }\n            [role=\"button\"][data-testid$=\"-unfollow\"]:not(:hover) > :is(div, span) {\n              color: rgb(255, 255, 255) !important;\n            }\n            /* Follow button */\n            [role=\"button\"][data-testid$=\"-follow\"] {\n              border-color: ").concat(themeColor," !important;\n            }\n            [role=\"button\"][data-testid$=\"-follow\"] > :is(div, span) {\n              color: ").concat(themeColor," !important;\n            }\n            [role=\"button\"][data-testid$=\"-follow\"]:hover {\n              background-color: ").concat(themeColor," !important;\n            }\n            [role=\"button\"][data-testid$=\"-follow\"]:hover > :is(div, span) {\n              color: rgb(255, 255, 255) !important;\n            }\n          "))}cssRules.push("\n            body.MediaViewer [role=\"button\"][data-testid$=\"follow\"]:not(:hover) {\n              border: revert !important;\n              background-color: transparent !important;\n            }\n            body.MediaViewer [role=\"button\"][data-testid$=\"follow\"]:not(:hover) > div {\n              color: ".concat(themeColor," !important;\n            }\n          "))}$style.textContent=cssRules.map(dedent).join("\n")}}();main();case 198:case"end":return _context36.stop()}},_callee36)}))();
